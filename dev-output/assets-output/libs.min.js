!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},u=s.toString,c=s.hasOwnProperty,l={},f=e.document,p="2.1.3",h=function(e,t){return new h.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,v=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function m(e){var t=e.length,n=h.type(e);return"function"!==n&&!h.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}h.fn=h.prototype={jquery:p,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||h.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(h.isPlainObject(r)||(i=h.isArray(r)))?(i?(i=!1,o=n&&h.isArray(n)?n:[]):o=n&&h.isPlainObject(n)?n:{},a[t]=h.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},h.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===h.type(e)&&!e.nodeType&&!h.isWindow(e)&&!(e.constructor&&!c.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[u.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=h.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(y,"ms-").replace(v,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=m(e);if(n){if(o)for(;i>r&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;i>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(m(Object(e))?h.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(m(e))for(;a>o;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),h.isFunction(e)?(i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||h.guid++,o):void 0},now:Date.now,support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){s["[object "+t+"]"]=t.toLowerCase()});var b=function(e){var t,n,r,i,o,a,s,u,c,l,f,p,h,d,y,v,g,m,b,w="sizzle"+1*new Date,x=e.document,S=0,_=0,k=ae(),E=ae(),T=ae(),C=function(e,t){return e===t&&(f=!0),0},A=1<<31,O={}.hasOwnProperty,j=[],N=j.pop,I=j.push,D=j.push,P=j.slice,R=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=B.replace("w","w#"),q="\\["+M+"*("+B+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",$=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(M+"+","g"),z=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),U=new RegExp("^"+M+"*,"+M+"*"),W=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),K=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp($),Y=new RegExp("^"+F+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){p()};try{D.apply(j=P.call(x.childNodes),x.childNodes),j[x.childNodes.length].nodeType}catch(e){D={apply:j.length?function(e,t){I.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,l,f,d,g,m,S,_;if((t?t.ownerDocument||t:x)!==h&&p(t),r=r||[],l=(t=t||h).nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&y){if(11!==l&&(o=Z.exec(e)))if(c=o[1]){if(9===l){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&b(t,s)&&s.id===c)return r.push(s),r}else{if(o[2])return D.apply(r,t.getElementsByTagName(e)),r;if((c=o[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!v||!v.test(e))){if(m=g=w,S=t,_=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(d=a(e),(g=t.getAttribute("id"))?m=g.replace(te,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=d.length;f--;)d[f]=m+ve(d[f]);S=ee.test(e)&&de(t.parentNode)||t,_=d.join(",")}if(_)try{return D.apply(r,S.querySelectorAll(_)),r}catch(e){}finally{g||t.removeAttribute("id")}}}return u(e.replace(z,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function ue(e){var t=h.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==h&&9===a.nodeType&&a.documentElement?(h=a,d=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),y=!o(a),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(a.getElementsByClassName),n.getById=ue(function(e){return d.appendChild(e).id=w,!a.getElementsByName||!a.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return y?t.getElementsByClassName(e):void 0},g=[],v=[],(n.qsa=Q.test(a.querySelectorAll))&&(ue(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")}),ue(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Q.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(d.compareDocumentPosition),b=t||Q.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===x&&b(x,e)?-1:t===a||t.ownerDocument===x&&b(x,t)?1:l?R(l,e)-R(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:l?R(l,e)-R(l,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?le(s[r],u[r]):s[r]===x?-1:u[r]===x?1:0},a):h},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&p(e),t=t.replace(K,"='$1']"),!(!n.matchesSelector||!y||g&&g.test(t)||v&&v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,h,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==h&&p(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==h&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!y):void 0;return void 0!==o?o:n.attributes||!y?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(C),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,p,h,d,y=o!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),m=!u&&!s;if(v){if(o){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=y="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&m){for(h=(c=(l=v[w]||(v[w]={}))[e]||[])[0]===S&&c[1],p=c[0]===S&&c[2],f=h&&v.childNodes[h];f=++h&&f&&f[y]||(p=h=0)||d.pop();)if(1===f.nodeType&&++p&&f===t){l[e]=[S,h,p];break}}else if(m&&(c=(t[w]||(t[w]={}))[e])&&c[0]===S)p=c[1];else for(;(f=++h&&f&&f[y]||(p=h=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++p||(m&&((f[w]||(f[w]={}))[e]=[S,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[w]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return Y.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[0>n?n+t:n]}),even:he(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function ve(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=_++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[S,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=t[w]||(t[w]={}))[r])&&s[0]===S&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function me(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function we(e,t,n,r,i,o){return r&&!r[w]&&(r=we(r)),i&&!i[w]&&(i=we(i,o)),se(function(o,a,s,u){var c,l,f,p=[],h=[],d=a.length,y=o||function(e,t,n){for(var r=0,i=t.length;i>r;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?y:be(y,p,e,s,u),g=n?i||(o?e:d||r)?[]:a:v;if(n&&n(v,g,s,u),r)for(c=be(g,h),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(g[h[l]]=!(v[h[l]]=f));if(o){if(i||e){if(i){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(v[l]=f);i(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=i?R(o,f):p[l])>-1&&(o[c]=!(a[c]=f))}}else g=be(g===a?g.splice(d,g.length):g),i?i(null,a,g,u):D.apply(a,g)})}function xe(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ge(function(e){return e===t},s,!0),f=ge(function(e){return R(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,i}];o>u;u++)if(n=r.relative[e[u].type])p=[ge(me(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;o>i&&!r.relative[e[i].type];i++);return we(u>1&&me(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(z,"$1"),n,i>u&&xe(e.slice(u,i)),o>i&&xe(e=e.slice(i)),o>i&&ve(e))}p.push(n)}return me(p)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,c,l=E[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in(!n||(i=U.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(i=V[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):E(e,u).slice(0)},s=oe.compile=function(e,t){var n,i,o,s,u,l,f=[],p=[],d=T[e+" "];if(!d){for(t||(t=a(e)),n=t.length;n--;)(d=xe(t[n]))[w]?f.push(d):p.push(d);(d=T(e,(i=p,s=(o=f).length>0,u=i.length>0,l=function(e,t,n,a,l){var f,p,d,y=0,v="0",g=e&&[],m=[],b=c,w=e||u&&r.find.TAG("*",l),x=S+=null==b?1:Math.random()||.1,_=w.length;for(l&&(c=t!==h&&t);v!==_&&null!=(f=w[v]);v++){if(u&&f){for(p=0;d=i[p++];)if(d(f,t,n)){a.push(f);break}l&&(S=x)}s&&((f=!d&&f)&&y--,e&&g.push(f))}if(y+=v,s&&v!==y){for(p=0;d=o[p++];)d(g,m,t,n);if(e){if(y>0)for(;v--;)g[v]||m[v]||(m[v]=N.call(a));m=be(m)}D.apply(a,m),l&&!e&&m.length>0&&y+o.length>1&&oe.uniqueSort(a)}return l&&(S=x,c=b),g},s?se(l):l))).selector=e}return d},u=oe.select=function(e,t,i,o){var u,c,l,f,p,h="function"==typeof e&&e,d=!o&&a(e=h.selector||e);if(i=i||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&y&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(ne,re),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=V.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[f=l.type]);)if((p=r.find[f])&&(o=p(l.matches[0].replace(ne,re),ee.test(c[0].type)&&de(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&ve(c)))return D.apply(i,o),i;break}}return(h||s(e,d))(o,t,!y,i,ee.test(e)&&de(t.parentNode)||t),i},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(L,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);h.find=b,h.expr=b.selectors,h.expr[":"]=h.expr.pseudos,h.unique=b.uniqueSort,h.text=b.getText,h.isXMLDoc=b.isXML,h.contains=b.contains;var w=h.expr.match.needsContext,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function _(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(S.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return a.call(t,e)>=0!==n})}h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;n>t;t++)if(h.contains(i[t],this))return!0}));for(t=0;n>t;t++)h.find(e,i[t],r);return(r=this.pushStack(n>1?h.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&w.test(e)?h(e):e||[],!1).length}});var k,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:E.exec(e))||!n[1]&&t)return!t||t.jquery?(t||k).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),x.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=f.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==k.ready?k.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))}).prototype=h.fn,k=h(f);var T=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}h.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&h(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t=h(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(h.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=w.test(e)||"string"!=typeof e?h(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?h.unique(o):o)},index:function(e){return e?"string"==typeof e?a.call(h(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return e.contentDocument||h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=h.filter(r,i)),this.length>1&&(C[e]||h.unique(i),T.test(e)&&i.reverse()),this.pushStack(i)}});var O,j=/\S+/g,N={};function I(){f.removeEventListener("DOMContentLoaded",I,!1),e.removeEventListener("load",I,!1),h.ready()}h.Callbacks=function(e){var t,n;e="string"==typeof e?N[e]||(n=N[t=e]={},h.each(t.match(j)||[],function(e,t){n[t]=!0}),n):h.extend({},e);var r,i,o,a,s,u,c=[],l=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,u=a||0,a=0,s=c.length,o=!0;c&&s>u;u++)if(!1===c[u].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function t(n){h.each(n,function(n,r){var i=h.type(r);"function"===i?e.unique&&p.has(r)||c.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),o?s=c.length:r&&(a=t,f(r))}return this},remove:function(){return c&&h.each(arguments,function(e,t){for(var n;(n=h.inArray(t,c,n))>-1;)c.splice(n,1),o&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return e?h.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=r=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||i&&!l||(t=[e,(t=t||[]).slice?t.slice():t],o?l.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,o){var a=h.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,u=1!==s||e&&h.isFunction(e.promise)?s:0,c=1===u?e:h.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?c.notifyWith(n,i):--u||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)a[o]&&h.isFunction(a[o].promise)?a[o].promise().done(l(o,i,a)).fail(c.reject).progress(l(o,n,t)):--u;return u||c.resolveWith(i,a),c.promise()}}),h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){(!0===e?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==e&&--h.readyWait>0||(O.resolveWith(f,[h]),h.fn.triggerHandler&&(h(f).triggerHandler("ready"),h(f).off("ready"))))}}),h.ready.promise=function(t){return O||(O=h.Deferred(),"complete"===f.readyState?setTimeout(h.ready):(f.addEventListener("DOMContentLoaded",I,!1),e.addEventListener("load",I,!1))),O.promise(t)},h.ready.promise();var D=h.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===h.type(n))for(s in i=!0,n)h.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,h.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(h(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};function P(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=h.expando+P.uid++}h.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},P.uid=1,P.accepts=h.acceptData,P.prototype={key:function(e){if(!P.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=P.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,h.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(h.isEmptyObject(o))h.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,h.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{h.isArray(t)?r=t.concat(t.map(h.camelCase)):(i=h.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(j)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!h.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new P,L=new P,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g;function F(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(B,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?h.parseJSON(n):n)}catch(e){}L.set(e,t,n)}else n=void 0;return n}h.extend({hasData:function(e){return L.hasData(e)||R.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),h.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=L.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=h.camelCase(r.slice(5)),F(o,r,i[r])));R.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){L.set(this,e)}):D(this,function(t){var n,r=h.camelCase(e);if(o&&void 0===t){if(void 0!==(n=L.get(o,e)))return n;if(void 0!==(n=L.get(o,r)))return n;if(void 0!==(n=F(o,r,void 0)))return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}}),h.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=R.get(e,t),n&&(!r||h.isArray(n)?r=R.access(e,t,h.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),o=h._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){h.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:h.Callbacks("once memory").add(function(){R.remove(e,[t+"queue",n])})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=R.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var q,$,H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],U=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},W=/^(?:checkbox|radio)$/i;q=f.createDocumentFragment().appendChild(f.createElement("div")),($=f.createElement("input")).setAttribute("type","radio"),$.setAttribute("checked","checked"),$.setAttribute("name","t"),q.appendChild($),l.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue;var K="undefined";l.focusinBubbles="onfocusin"in e;var X=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,V=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function J(){return!0}function Q(){return!1}function Z(){try{return f.activeElement}catch(e){}}h.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,y,v,g=R.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=h.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof h!==K&&h.event.triggered!==t.type?h.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)d=v=(s=G.exec(t[c])||[])[1],y=(s[2]||"").split(".").sort(),d&&(f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},l=h.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:y.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,y,a)||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),h.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,y,v,g=R.hasData(e)&&R.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(d=v=(s=G.exec(t[c])||[])[1],y=(s[2]||"").split(".").sort(),d){for(f=h.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,y,g.handle)||h.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)h.event.remove(e,d+t[c],n,r,!0);h.isEmptyObject(u)&&(delete g.handle,R.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,p,d,y=[r||f],v=c.call(t,"type")?t.type:t,g=c.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||f,3!==r.nodeType&&8!==r.nodeType&&!V.test(v+h.event.triggered)&&(v.indexOf(".")>=0&&(v=(g=v.split(".")).shift(),g.sort()),l=v.indexOf(":")<0&&"on"+v,(t=t[h.expando]?t:new h.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:h.makeArray(n,[t]),d=h.event.special[v]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!h.isWindow(r)){for(u=d.delegateType||v,V.test(u+v)||(a=a.parentNode);a;a=a.parentNode)y.push(a),s=a;s===(r.ownerDocument||f)&&y.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=y[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||v,(p=(R.get(a,"events")||{})[t.type]&&R.get(a,"handle"))&&p.apply(a,n),(p=l&&a[l])&&p.apply&&h.acceptData(a)&&(t.result=p.apply(a,n),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(y.pop(),n)||!h.acceptData(r)||l&&h.isFunction(r[v])&&!h.isWindow(r)&&((s=r[l])&&(r[l]=null),h.event.triggered=v,r[v](),h.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,o,a,s=[],u=r.call(arguments),c=(R.get(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=h.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,void 0!==(i=((h.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?h(i,this).index(u)>=0:h.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||f).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Y.test(i)?this.mouseHooks:X.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new h.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==Z()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===Z()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&h.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?J:Q):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=J,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return(!r||r!==this&&!h.contains(this,r))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=R.access(r,t);i||r.addEventListener(e,n,!0),R.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=R.access(r,t)-1;i?R.access(r,t,i):(r.removeEventListener(e,n,!0),R.remove(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Q;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return h().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?h.event.trigger(e,t,n,!0):void 0}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,re=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function pe(e,t){for(var n=0,r=e.length;r>n;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function he(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(R.hasData(e)&&(o=R.access(e),a=R.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;r>n;n++)h.event.add(t,i,c[i][n]);L.hasData(e)&&(s=L.access(e),u=h.extend({},s),L.set(t,u))}}function de(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&h.nodeName(e,t)?h.merge([e],n):n}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,h.extend({clone:function(e,t,n){var r,i,o,a,s,u,c,f=e.cloneNode(!0),p=h.contains(e.ownerDocument,e);if(!(l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(a=de(f),r=0,i=(o=de(e)).length;i>r;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&W.test(s.type)?u.checked=s.checked:("input"===c||"textarea"===c)&&(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||de(e),a=a||de(f),r=0,i=o.length;i>r;r++)he(o[r],a[r]);else he(e,f);return(a=de(f,"script")).length>0&&pe(a,!p&&de(e,"script")),f},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if((i=e[p])||0===i)if("object"===h.type(i))h.merge(f,i.nodeType?[i]:i);else if(ne.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(te.exec(i)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,o.innerHTML=s[1]+i.replace(ee,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;h.merge(f,o.childNodes),(o=l.firstChild).textContent=""}else f.push(t.createTextNode(i));for(l.textContent="",p=0;i=f[p++];)if((!r||-1===h.inArray(i,r))&&(u=h.contains(i.ownerDocument,i),o=de(l.appendChild(i),"script"),u&&pe(o),n))for(c=0;i=o[c++];)oe.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=h.event.special,a=0;void 0!==(n=e[a]);a++){if(h.acceptData(n)&&((i=n[R.expando])&&(t=R.cache[i]))){if(t.events)for(r in t.events)o[r]?h.event.remove(n,r):h.removeEvent(n,r,t.handle);R.cache[i]&&delete R.cache[i]}delete L.cache[n[L.expando]]}}}),h.fn.extend({text:function(e){return D(this,function(e){return void 0===e?h.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?h.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||h.cleanData(de(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&pe(de(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(h.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return D(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!re.test(e)&&!ue[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(h.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(de(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,u,c=0,f=this.length,p=this,d=f-1,y=e[0],v=h.isFunction(y);if(v||f>1&&"string"==typeof y&&!l.checkClone&&ie.test(y))return this.each(function(n){var r=p.eq(n);v&&(e[0]=y.call(this,n,r.html())),r.domManip(e,t)});if(f&&(r=(n=h.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(o=h.map(de(n,"script"),le)).length;f>c;c++)s=n,c!==d&&(s=h.clone(s,!0,!0),a&&h.merge(o,de(s,"script"))),t.call(this[c],s,c);if(a)for(u=o[o.length-1].ownerDocument,h.map(o,fe),c=0;a>c;c++)s=o[c],oe.test(s.type||"")&&!R.access(s,"globalEval")&&h.contains(u,s)&&(s.src?h._evalUrl&&h._evalUrl(s.src):h.globalEval(s.textContent.replace(se,"")))}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=[],i=h(e),a=i.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),h(i[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var ye,ve={};function ge(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),o}function me(e){var t=f,n=ve[e];return n||("none"!==(n=ge(e,t))&&n||((t=(ye=(ye||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ge(e,t),ye.detach()),ve[e]=n),n}var be=/^margin/,we=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),xe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};function Se(e,t,n){var r,i,o,a,s=e.style;return(n=n||xe(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||h.contains(e.ownerDocument,e)||(a=h.style(e,t)),we.test(a)&&be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r=f.documentElement,i=f.createElement("div"),o=f.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&h.extend(l,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(f.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),t}})}}(),h.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var ke=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+H+")(.*)$","i"),Te=new RegExp("^([+-])=("+H+")","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},Ae={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"];function je(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Oe.length;i--;)if((t=Oe[i]+n)in e)return t;return r}function Ne(e,t,n){var r=Ee.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ie(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=h.css(e,n+z[o],!0,i)),r?("content"===n&&(a-=h.css(e,"padding"+z[o],!0,i)),"margin"!==n&&(a-=h.css(e,"border"+z[o]+"Width",!0,i))):(a+=h.css(e,"padding"+z[o],!0,i),"padding"!==n&&(a+=h.css(e,"border"+z[o]+"Width",!0,i)));return a}function De(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=xe(e),a="border-box"===h.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=Se(e,t,o))||null==i)&&(i=e.style[t]),we.test(i))return i;r=a&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ie(e,t,n||(a?"border":"content"),r,o)+"px"}function Pe(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=R.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&U(r)&&(o[a]=R.access(r,"olddisplay",me(r.nodeName)))):(i=U(r),"none"===n&&i||R.set(r,"olddisplay",i?n:h.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Re(e,t,n,r,i){return new Re.prototype.init(e,t,n,r,i)}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Se(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h.camelCase(t),u=e.style;return t=h.cssProps[s]||(h.cssProps[s]=je(u,s)),a=h.cssHooks[t]||h.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:("string"===(o=typeof n)&&(i=Te.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||h.cssNumber[s]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=h.camelCase(t);return t=h.cssProps[s]||(h.cssProps[s]=je(e.style,s)),(a=h.cssHooks[t]||h.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Se(e,t,r)),"normal"===i&&t in Ae&&(i=Ae[t]),""===n||n?(o=parseFloat(i),!0===n||h.isNumeric(o)?o||0:i):i}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){return n?ke.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,Ce,function(){return De(e,t,r)}):De(e,t,r):void 0},set:function(e,n,r){var i=r&&xe(e);return Ne(0,n,r?Ie(e,t,r,"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}}),h.cssHooks.marginRight=_e(l.reliableMarginRight,function(e,t){return t?h.swap(e,{display:"inline-block"},Se,[e,"marginRight"]):void 0}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+z[r]+t]=o[r]||o[r-2]||o[0];return i}},be.test(e)||(h.cssHooks[e+t].set=Ne)}),h.fn.extend({css:function(e,t){return D(this,function(e,t,n){var r,i,o={},a=0;if(h.isArray(t)){for(r=xe(e),i=t.length;i>a;a++)o[t[a]]=h.css(e,t[a],!1,r);return o}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return Pe(this,!0)},hide:function(){return Pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){U(this)?h(this).show():h(this).hide()})}}),h.Tween=Re,Re.prototype={constructor:Re,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(h.cssNumber[n]?"":"px")},cur:function(){var e=Re.propHooks[this.prop];return e&&e.get?e.get(this):Re.propHooks._default.get(this)},run:function(e){var t,n=Re.propHooks[this.prop];return this.pos=t=this.options.duration?h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Re.propHooks._default.set(this),this}},Re.prototype.init.prototype=Re.prototype,Re.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Re.propHooks.scrollTop=Re.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Re.prototype.init,h.fx.step={};var Le,Me,Be,Fe,qe,$e=/^(?:toggle|show|hide)$/,He=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),ze=/queueHooks$/,Ue=[function(e,t,n){var r,i,o,a,s,u,c,l=this,f={},p=e.style,d=e.nodeType&&U(e),y=R.get(e,"fxshow");for(r in n.queue||(null==(s=h._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,h.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=h.css(e,"display"),"inline"===("none"===c?R.get(e,"olddisplay")||me(e.nodeName):c)&&"none"===h.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(i=t[r],$e.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;d=!0}f[r]=y&&y[r]||h.style(e,r)}else c=void 0;if(h.isEmptyObject(f))"inline"===("none"===c?me(e.nodeName):c)&&(p.display=c);else for(r in y?"hidden"in y&&(d=y.hidden):y=R.access(e,"fxshow",{}),o&&(y.hidden=!d),d?h(e).show():l.done(function(){h(e).hide()}),l.done(function(){var t;for(t in R.remove(e,"fxshow"),f)h.style(e,t,f[t])}),f)a=Ye(d?y[r]:0,r,l),r in y||(y[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],We={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=He.exec(t),o=i&&i[3]||(h.cssNumber[e]?"":"px"),a=(h.cssNumber[e]||"px"!==o&&+r)&&He.exec(h.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o)for(o=o||a[3],i=i||[],a=+r||1;a/=s=s||".5",h.style(n.elem,e,a+o),s!==(s=n.cur()/r)&&1!==s&&--u;);return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Ke(){return setTimeout(function(){Le=void 0}),Le=h.now()}function Xe(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=z[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ye(e,t,n){for(var r,i=(We[t]||[]).concat(We["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function Ve(e,t,n){var r,i,o=0,a=Ue.length,s=h.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Le||Ke(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;a>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Le||Ke(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=h.camelCase(n)],o=e[n],h.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=h.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);a>o;o++)if(r=Ue[o].call(c,e,l,c.opts))return r;return h.map(l,Ye,c),h.isFunction(c.opts.start)&&c.opts.start.call(e,c),h.fx.timer(h.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}h.Animation=h.extend(Ve,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],We[n]=We[n]||[],We[n].unshift(t)},prefilter:function(e,t){t?Ue.unshift(e):Ue.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(U).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),o=h.speed(t,n,r),a=function(){var t=Ve(this,h.extend({},e),o);(i||R.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=h.timers,a=R.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ze.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=R.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=h.timers,a=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Xe(t,!0),e,r,i)}}),h.each({slideDown:Xe("show"),slideUp:Xe("hide"),slideToggle:Xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=0,n=h.timers;for(Le=h.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||h.fx.stop(),Le=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Me||(Me=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Me),Me=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx&&h.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},Be=f.createElement("input"),Fe=f.createElement("select"),qe=Fe.appendChild(f.createElement("option")),Be.type="checkbox",l.checkOn=""!==Be.value,l.optSelected=qe.selected,Fe.disabled=!0,l.optDisabled=!qe.disabled,(Be=f.createElement("input")).value="t",Be.type="radio",l.radioValue="t"===Be.value;var Ge,Je=h.expr.attrHandle;h.fn.extend({attr:function(e,t){return D(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===K?h.prop(e,t,n):(1===o&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?Ge:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=h.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void h.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[i++];)r=h.propFix[n]||n,h.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ge={set:function(e,t,n){return!1===t?h.removeAttr(e,n):e.setAttribute(n,n),n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Je[t]||h.find.attr;Je[t]=function(e,t,r){var i,o;return r||(o=Je[t],Je[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Je[t]=o),i}});var Qe=/^(?:input|select|textarea|button)$/i;h.fn.extend({prop:function(e,t){return D(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[h.propFix[e]||e]})}}),h.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!h.isXMLDoc(e))&&(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});var Ze=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(j)||[];c>u;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=h.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(j)||[];c>u;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?h.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=h(this),o=e.match(j)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===K||"boolean"===n)&&(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===e?"":R.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ze," ").indexOf(t)>=0)return!0;return!1}});var et=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=h.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,h(this).val()):e)?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,function(e){return null==e?"":e+""})),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(et,""):null==n?"":n:void 0}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(!(!(n=r[u]).selected&&u!==i||(l.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=h.makeArray(t),a=i.length;a--;)((r=i[a]).selected=h.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},l.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=h.now(),nt=/\?/;h.parseJSON=function(e){return JSON.parse(e+"")},h.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+e),t};var rt=/#.*$/,it=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,st=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},lt={},ft="*/".concat("*"),pt=e.location.href,ht=ut.exec(pt.toLowerCase())||[];function dt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(j)||[];if(h.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function yt(e,t,n,r){var i={},o=e===lt;function a(s){var u;return i[s]=!0,h.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function vt(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&h.extend(!0,e,r),e}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?vt(vt(e,h.ajaxSettings),t):vt(h.ajaxSettings,e)},ajaxPrefilter:dt(ct),ajaxTransport:dt(lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,u,c,l=h.ajaxSetup({},t),f=l.context||l,p=l.context&&(f.nodeType||f.jquery)?h(f):h.event,d=h.Deferred(),y=h.Callbacks("once memory"),v=l.statusCode||{},g={},m={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=ot.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=m[n]=m[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),S(0,t),this}};if(d.promise(x).complete=y.add,x.success=x.done,x.error=x.fail,l.url=((e||l.url||pt)+"").replace(rt,"").replace(st,ht[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(j)||[""],null==l.crossDomain&&(s=ut.exec(l.url.toLowerCase()),l.crossDomain=!(!s||s[1]===ht[1]&&s[2]===ht[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=h.param(l.data,l.traditional)),yt(ct,l,t,x),2===b)return x;for(c in(u=h.event&&l.global)&&0==h.active++&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!at.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(nt.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=it.test(r)?r.replace(it,"$1_="+tt++):r+(nt.test(r)?"&":"?")+"_="+tt++)),l.ifModified&&(h.lastModified[r]&&x.setRequestHeader("If-Modified-Since",h.lastModified[r]),h.etag[r]&&x.setRequestHeader("If-None-Match",h.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||t.contentType)&&x.setRequestHeader("Content-Type",l.contentType),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ft+"; q=0.01":""):l.accepts["*"]),l.headers)x.setRequestHeader(c,l.headers[c]);if(l.beforeSend&&(!1===l.beforeSend.call(f,x,l)||2===b))return x.abort();for(c in w="abort",{success:1,error:1,complete:1})x[c](l[c]);if(n=yt(lt,l,t,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},l.timeout));try{b=1,n.send(g,S)}catch(e){if(!(2>b))throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,o,s){var c,g,m,w,S,_=t;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,i=s||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,o&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(l,x,o)),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(l,w,x,c),c?(l.ifModified&&((S=x.getResponseHeader("Last-Modified"))&&(h.lastModified[r]=S),(S=x.getResponseHeader("etag"))&&(h.etag[r]=S)),204===e||"HEAD"===l.type?_="nocontent":304===e?_="notmodified":(_=w.state,g=w.data,c=!(m=w.error))):(m=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(t||_)+"",c?d.resolveWith(f,[g,_,x]):d.rejectWith(f,[x,_,m]),x.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,l,c?g:m]),y.fireWith(f,[x,_]),u&&(p.trigger("ajaxComplete",[x,l]),--h.active||h.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=void 0),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){var t;return h.isFunction(e)?this.each(function(t){h(this).wrapAll(e.call(this,t))}):(this[0]&&(t=h(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var gt=/%20/g,mt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function St(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||mt.test(e)?r(e,i):St(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(i in t)St(e+"["+i+"]",t[i],n,r)}h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)St(n,e[n],t,i);return r.join("&").replace(gt,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&xt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!W.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),h.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=0,kt={},Et={0:200,1223:204},Tt=h.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in kt)kt[e]()}),l.cors=!!Tt&&"withCredentials"in Tt,l.ajax=Tt=!!Tt,h.ajaxTransport(function(e){var t;return l.cors||Tt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++_t;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete kt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Et[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=kt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),h.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=h("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ct=[],At=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ct.pop()||h.expando+"_"+tt++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(At.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(At,"$1"+i):!1!==t.jsonp&&(t.url+=(nt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||h.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ct.push(i)),a&&h.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||f;var r=x.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var Ot=h.fn.load;h.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=h.trim(e.slice(s)),e=e.slice(0,s)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&h.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var jt=e.document.documentElement;function Nt(e){return h.isWindow(e)?e:9===e.nodeType&&e.defaultView}h.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=h.css(e,"position"),l=h(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=h.css(e,"top"),u=h.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),h.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,h.contains(t,r)?(typeof r.getBoundingClientRect!==K&&(i=r.getBoundingClientRect()),n=Nt(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===h.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(r=e.offset()),r.top+=h.css(e[0],"borderTopWidth",!0),r.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-h.css(n,"marginTop",!0),left:t.left-r.left-h.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||jt;e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position");)e=e.offsetParent;return e||jt})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;h.fn[t]=function(i){return D(this,function(t,i,o){var a=Nt(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=_e(l.pixelPosition,function(e,n){return n?(n=Se(e,t),we.test(n)?h(e).position()[t]+"px":n):void 0})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return D(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?h.css(t,n,a):h.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var It=e.jQuery,Dt=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=Dt),t&&e.jQuery===h&&(e.jQuery=It),h},typeof t===K&&(e.jQuery=e.$=h),h}),function(e){"use strict";var t=function(e){return null!=e},n=window.Visibility={onVisible:function(e){if(!n.isSupported()||!n.hidden())return e(),n.isSupported();var t=n.change(function(r,i){n.hidden()||(n.unbind(t),e())});return t},change:function(e){if(!n.isSupported())return!1;n._lastCallback+=1;var t=n._lastCallback;return n._callbacks[t]=e,n._setListener(),t},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){if(!n.isSupported()||"prerender"!=n.state())return e(),n.isSupported();var t=n.change(function(r,i){"prerender"!=i&&(n.unbind(t),e())});return t},hidden:function(){return n._prop("hidden",!1)},state:function(){return n._prop("visibilityState","visible")},isSupported:function(){return t(n._prefix())},_doc:window.document,_chechedPrefix:null,_listening:!1,_lastCallback:-1,_callbacks:{},_hiddenBefore:!1,_init:function(){n._hiddenBefore=n.hidden()},_prefix:function(){return null!==n._chechedPrefix?n._chechedPrefix:t(n._doc.visibilityState)?n._chechedPrefix="":t(n._doc.webkitVisibilityState)?n._chechedPrefix="webkit":void 0},_name:function(e){var t=n._prefix();return""==t?e:t+e.substr(0,1).toUpperCase()+e.substr(1)},_prop:function(e,t){return n.isSupported()?n._doc[n._name(e)]:t},_onChange:function(e){var t=n.state();for(var r in n._callbacks)n._callbacks[r].call(n._doc,e,t);n._hiddenBefore=n.hidden()},_setListener:function(){if(!n._listening){var e=n._prefix()+"visibilitychange",t=function(){n._onChange.apply(Visibility,arguments)};n._doc.addEventListener?n._doc.addEventListener(e,t,!1):n._doc.attachEvent(e,t),n._listening=!0,n._hiddenBefore=n.hidden()}}};n._init()}(),function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}}(function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var t,n=w(),r=function(){},i=function(){var e={task:void 0,next:null},t=e,n=!1,r=void 0,o=!1,a=[];function s(){for(var t,r;e.next;)t=(e=e.next).task,e.task=void 0,(r=e.domain)&&(e.domain=void 0,r.enter()),u(t,r);for(;a.length;)u(t=a.pop());n=!1}function u(e,t){try{e()}catch(e){if(o)throw t&&t.exit(),setTimeout(s,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(i=function(e){t=t.next={task:e,domain:o&&process.domain,next:null},n||(n=!0,r())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)o=!0,r=function(){process.nextTick(s)};else if("function"==typeof setImmediate)r="undefined"!=typeof window?setImmediate.bind(window,s):function(){setImmediate(s)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){r=l,c.port1.onmessage=s,s()};var l=function(){c.port2.postMessage(0)};r=function(){setTimeout(s,0),l()}}else r=function(){setTimeout(s,0)};return i.runAfter=function(e){a.push(e),n||(n=!0,r())},i}(),o=Function.call;function a(e){return function(){return o.apply(e,arguments)}}var s,u=a(Array.prototype.slice),c=a(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),l=a(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),f=a(Array.prototype.map||function(e,t){var n=this,r=[];return c(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},h=a(Object.prototype.hasOwnProperty),d=Object.keys||function(e){var t=[];for(var n in e)h(e,n)&&t.push(n);return t},y=a(Object.prototype.toString);s="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var v="From previous event:";function g(t,n){if(e&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(v)){for(var r=[],i=n;i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(t.stack);var o=r.join("\n"+v+"\n");t.stack=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];!b(i)&&(-1===(o=i).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&i&&n.push(i)}var o;return n.join("\n")}(o)}}function m(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function b(e){var r=m(e);if(!r)return!1;var i=r[0],o=r[1];return i===t&&o>=n&&o<=W}function w(){if(e)try{throw new Error}catch(e){var n=e.stack.split("\n"),r=m(n[0].indexOf("@")>0?n[1]:n[2]);if(!r)return;return t=r[0],r[1]}}function x(e){return e instanceof E?e:O(e)?(t=e,n=S(),x.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise):F(e);var t,n}function S(){var t,n=[],r=[],i=p(S.prototype),o=p(E.prototype);if(o.promiseDispatch=function(e,i,o){var a=u(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):x.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=C(t);return A(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},x.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1)}function a(e){t=e,o.source=e,c(n,function(t,n){x.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}return i.promise=o,i.resolve=function(e){t||a(x(e))},i.fulfill=function(e){t||a(F(e))},i.reject=function(e){t||a(B(e))},i.notify=function(e){t||c(r,function(t,n){x.nextTick(function(){n(e)})},void 0)},i}function _(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=S();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function k(e){return _(function(t,n){for(var r=0,i=e.length;r<i;r++)x(e[r]).then(t,n)})}function E(e,t,n){void 0===t&&(t=function(e){return B(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=p(E.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){a=B(e)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function T(e,t,n,r){return x(e).then(t,n,r)}function C(e){if(A(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function A(e){return e instanceof E}function O(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}x.resolve=x,x.nextTick=i,x.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(x.longStackSupport=!0),x.defer=S,S.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(u(arguments,1)):e.resolve(n)}},x.Promise=_,x.promise=_,_.race=k,_.all=H,_.reject=B,_.resolve=x,x.passByCopy=function(e){return e},E.prototype.passByCopy=function(){return this},x.join=function(e,t){return x(e).join(t)},E.prototype.join=function(e){return x([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},x.race=k,E.prototype.race=function(){return this.then(x.race)},x.makePromise=E,E.prototype.toString=function(){return"[object Promise]"},E.prototype.then=function(e,t,n){var r=this,i=S(),o=!1;return x.nextTick(function(){r.promiseDispatch(function(t){o||(o=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return B(e)}}(t)))},"when",[function(e){o||(o=!0,i.resolve(function(e){if("function"==typeof t){g(e,r);try{return t(e)}catch(e){return B(e)}}return B(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,r,o=!1;try{r=e,t="function"==typeof n?n(r):r}catch(e){if(o=!0,!x.onerror)throw e;x.onerror(e)}o||i.notify(t)}]),i.promise},x.tap=function(e,t){return x(e).tap(t)},E.prototype.tap=function(e){return e=x(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},x.when=T,E.prototype.thenResolve=function(e){return this.then(function(){return e})},x.thenResolve=function(e,t){return x(e).thenResolve(t)},E.prototype.thenReject=function(e){return this.then(function(){throw e})},x.thenReject=function(e,t){return x(e).thenReject(t)},x.nearer=C,x.isPromise=A,x.isPromiseAlike=O,x.isPending=function(e){return A(e)&&"pending"===e.inspect().state},E.prototype.isPending=function(){return"pending"===this.inspect().state},x.isFulfilled=function(e){return!A(e)||"fulfilled"===e.inspect().state},E.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},x.isRejected=function(e){return A(e)&&"rejected"===e.inspect().state},E.prototype.isRejected=function(){return"rejected"===this.inspect().state};var j,N,I,D=[],P=[],R=[],L=!0;function M(){D.length=0,P.length=0,L||(L=!0)}function B(e){var t,n,r=E({when:function(t){return t&&function(e){if(L){var t=l(P,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&x.nextTick.runAfter(function(){var n=l(R,e);-1!==n&&(process.emit("rejectionHandled",D[t],e),R.splice(n,1))}),P.splice(t,1),D.splice(t,1))}}(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return t=r,n=e,L&&("object"==typeof process&&"function"==typeof process.emit&&x.nextTick.runAfter(function(){-1!==l(P,t)&&(process.emit("unhandledRejection",n,t),R.push(t))}),P.push(t),n&&void 0!==n.stack?D.push(n.stack):D.push("(no stack) "+n)),r}function F(e){return E({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return d(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function q(e,t,n){return x(e).spread(t,n)}function $(e,t,n){return x(e).dispatch(t,n)}function H(e){return T(e,function(e){var t=0,n=S();return c(e,function(r,i,o){var a;A(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,T(i,function(r){e[o]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function z(e){if(0===e.length)return x.resolve();var t=x.defer(),n=0;return c(e,function(r,i,o){var a=e[o];n++,T(a,function(e){t.resolve(e)},function(){0==--n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))},function(e){t.notify({index:o,value:e})})},void 0),t.promise}function U(e){return T(e,function(e){return e=f(e,x),T(H(f(e,function(e){return T(e,r,r)})),function(){return e})})}x.resetUnhandledRejections=M,x.getUnhandledReasons=function(){return D.slice()},x.stopUnhandledRejectionTracking=function(){M(),L=!1},M(),x.reject=B,x.fulfill=F,x.master=function(e){return E({isDef:function(){}},function(t,n){return $(e,t,n)},function(){return x(e).inspect()})},x.spread=q,E.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},x.async=function(e){return function(){function t(e,t){var o,a;if("undefined"==typeof StopIteration){try{o=n[e](t)}catch(e){return B(e)}return o.done?x(o.value):T(o.value,r,i)}try{o=n[e](t)}catch(e){return"[object StopIteration]"===y(a=e)||a instanceof s?x(e.value):B(e)}return T(o,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}},x.spawn=function(e){x.done(x.async(e)())},x.return=function(e){throw new s(e)},x.promised=function(e){return function(){return q([this,H(arguments)],function(t,n){return e.apply(t,n)})}},x.dispatch=$,E.prototype.dispatch=function(e,t){var n=this,r=S();return x.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},x.get=function(e,t){return x(e).dispatch("get",[t])},E.prototype.get=function(e){return this.dispatch("get",[e])},x.set=function(e,t,n){return x(e).dispatch("set",[t,n])},E.prototype.set=function(e,t){return this.dispatch("set",[e,t])},x.del=x.delete=function(e,t){return x(e).dispatch("delete",[t])},E.prototype.del=E.prototype.delete=function(e){return this.dispatch("delete",[e])},x.mapply=x.post=function(e,t,n){return x(e).dispatch("post",[t,n])},E.prototype.mapply=E.prototype.post=function(e,t){return this.dispatch("post",[e,t])},x.send=x.mcall=x.invoke=function(e,t){return x(e).dispatch("post",[t,u(arguments,2)])},E.prototype.send=E.prototype.mcall=E.prototype.invoke=function(e){return this.dispatch("post",[e,u(arguments,1)])},x.fapply=function(e,t){return x(e).dispatch("apply",[void 0,t])},E.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},x.try=x.fcall=function(e){return x(e).dispatch("apply",[void 0,u(arguments,1)])},E.prototype.fcall=function(){return this.dispatch("apply",[void 0,u(arguments)])},x.fbind=function(e){var t=x(e),n=u(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(u(arguments))])}},E.prototype.fbind=function(){var e=this,t=u(arguments);return function(){return e.dispatch("apply",[this,t.concat(u(arguments))])}},x.keys=function(e){return x(e).dispatch("keys",[])},E.prototype.keys=function(){return this.dispatch("keys",[])},x.all=H,E.prototype.all=function(){return H(this)},x.any=z,E.prototype.any=function(){return z(this)},x.allResolved=(j=U,N="allResolved",I="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(N+" is deprecated, use "+I+" instead.",new Error("").stack),j.apply(j,arguments)}),E.prototype.allResolved=function(){return U(this)},x.allSettled=function(e){return x(e).allSettled()},E.prototype.allSettled=function(){return this.then(function(e){return H(f(e,function(e){function t(){return e.inspect()}return(e=x(e)).then(t,t)}))})},x.fail=x.catch=function(e,t){return x(e).then(void 0,t)},E.prototype.fail=E.prototype.catch=function(e){return this.then(void 0,e)},x.progress=function(e,t){return x(e).then(void 0,void 0,t)},E.prototype.progress=function(e){return this.then(void 0,void 0,e)},x.fin=x.finally=function(e,t){return x(e).finally(t)},E.prototype.fin=E.prototype.finally=function(e){return e=x(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},x.done=function(e,t,n,r){return x(e).done(t,n,r)},E.prototype.done=function(e,t,n){var r=function(e){x.nextTick(function(){if(g(e,i),!x.onerror)throw e;x.onerror(e)})},i=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),i.then(void 0,r)},x.timeout=function(e,t,n){return x(e).timeout(t,n)},E.prototype.timeout=function(e,t){var n=S(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},x.delay=function(e,t){return void 0===t&&(t=e,e=void 0),x(e).delay(t)},E.prototype.delay=function(e){return this.then(function(t){var n=S();return setTimeout(function(){n.resolve(t)},e),n.promise})},x.nfapply=function(e,t){return x(e).nfapply(t)},E.prototype.nfapply=function(e){var t=S(),n=u(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},x.nfcall=function(e){var t=u(arguments,1);return x(e).nfapply(t)},E.prototype.nfcall=function(){var e=u(arguments),t=S();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},x.nfbind=x.denodeify=function(e){var t=u(arguments,1);return function(){var n=t.concat(u(arguments)),r=S();return n.push(r.makeNodeResolver()),x(e).fapply(n).fail(r.reject),r.promise}},E.prototype.nfbind=E.prototype.denodeify=function(){var e=u(arguments);return e.unshift(this),x.denodeify.apply(void 0,e)},x.nbind=function(e,t){var n=u(arguments,2);return function(){var r=n.concat(u(arguments)),i=S();return r.push(i.makeNodeResolver()),x(function(){return e.apply(t,arguments)}).fapply(r).fail(i.reject),i.promise}},E.prototype.nbind=function(){var e=u(arguments,0);return e.unshift(this),x.nbind.apply(void 0,e)},x.nmapply=x.npost=function(e,t,n){return x(e).npost(t,n)},E.prototype.nmapply=E.prototype.npost=function(e,t){var n=u(t||[]),r=S();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},x.nsend=x.nmcall=x.ninvoke=function(e,t){var n=u(arguments,2),r=S();return n.push(r.makeNodeResolver()),x(e).dispatch("post",[t,n]).fail(r.reject),r.promise},E.prototype.nsend=E.prototype.nmcall=E.prototype.ninvoke=function(e){var t=u(arguments,1),n=S();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},x.nodeify=function(e,t){return x(e).nodeify(t)},E.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){x.nextTick(function(){e(null,t)})},function(t){x.nextTick(function(){e(t)})})},x.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var W=w();return x}),function(e){if("function"==typeof bootstrap)bootstrap("nedb",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeNedb=e}else"undefined"!=typeof window?window.Nedb=e():global.Nedb=e()}(function(){return function(e,t,n){function r(n,o){if(!t[n]){if(!e[n]){var a="function"==typeof require&&require;if(!o&&a)return a(n,!0);if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=t[n]={exports:{}};e[n][0].call(s.exports,function(t){var i=e[n][1][t];return r(i||t)},s,s.exports)}return t[n].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){var r=e("__browserify_process");r.EventEmitter||(r.EventEmitter=function(){});var i=n.EventEmitter=r.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},i.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(o(t)){n=Array.prototype.slice.call(arguments,1);for(var r=t.slice(),i=0,a=r.length;a>i;i++)r[i].apply(this,n);return!0}return!1},i.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(o(this._events[e])){var n;if(!this._events[e].warned)(n=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace());this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},i.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(o(n)){var r=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}(n,t);if(0>r)return this;n.splice(r,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},i.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},i.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.listenerCount=function(e,t){return e._events&&e._events[t]?"function"==typeof e._events[t]?1:e._events[t].length:0}},{__browserify_process:4}],2:[function(e,t,n){function r(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function i(e,t){for(var n=0,r=e.length;r>=0;r--){var i=e[r];"."==i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var o=e("__browserify_process"),a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var e="",t=!1,n=arguments.length;n>=-1&&!t;n--){var a=n>=0?arguments[n]:o.cwd();"string"==typeof a&&a&&(e=a+"/"+e,t="/"===a.charAt(0))}return(t?"/":"")+(e=i(r(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},n.normalize=function(e){var t="/"===e.charAt(0),n="/"===e.slice(-1);return(e=i(r(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){return e&&"string"==typeof e}).join("/"))},n.dirname=function(e){var t=a.exec(e)[1]||"";return t?1===t.length?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=a.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a.exec(e)[3]||""},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},n.sep="/"},{__browserify_process:4}],3:[function(e,t,n){function r(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)}function i(e){"object"==typeof e&&Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}e("events"),n.isArray=r,n.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,u,c){var l=[],f=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return c||(f=function(e){return e}),function e(u,c){if(u&&"function"==typeof u.inspect&&u!==n&&(!u.constructor||u.constructor.prototype!==u))return u.inspect(c);switch(typeof u){case"undefined":return f("undefined","undefined");case"string":var p="'"+JSON.stringify(u).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(p,"string");case"number":return f(""+u,"number");case"boolean":return f(""+u,"boolean")}if(null===u)return f("null","null");var h,d,y,v=a(u),g=t?s(u):v;if("function"==typeof u&&0===g.length){if(i(u))return f(""+u,"regexp");var m=u.name?": "+u.name:"";return f("[Function"+m+"]","special")}if(o(u)&&0===g.length)return f(u.toUTCString(),"date");if(r(u)?(d="Array",y=["[","]"]):(d="Object",y=["{","}"]),"function"==typeof u){var b=u.name?": "+u.name:"";h=i(u)?" "+u:" [Function"+b+"]"}else h="";if(o(u)&&(h=" "+u.toUTCString()),0===g.length)return y[0]+h+y[1];if(0>c)return i(u)?f(""+u,"regexp"):f("[Object]","special");l.push(u);var w=g.map(function(t){var n,i;if(u.__lookupGetter__&&(u.__lookupGetter__(t)?i=u.__lookupSetter__(t)?f("[Getter/Setter]","special"):f("[Getter]","special"):u.__lookupSetter__(t)&&(i=f("[Setter]","special"))),v.indexOf(t)<0&&(n="["+t+"]"),i||(l.indexOf(u[t])<0?(i=null===c?e(u[t]):e(u[t],c-1)).indexOf("\n")>-1&&(i=r(u)?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n")):i=f("[Circular]","special")),void 0===n){if("Array"===d&&t.match(/^\d+$/))return i;(n=JSON.stringify(""+t)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=f(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=f(n,"string"))}return n+": "+i});l.pop();return w.reduce(function(e,t){return t.indexOf("\n"),e+t.length+1},0)>50?y[0]+(""===h?"":h+"\n ")+" "+w.join(",\n  ")+" "+y[1]:y[0]+h+" "+w.join(", ")+" "+y[1]}(e,void 0===u?2:u)},n.log=function(){},n.pump=null;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},u=Object.create||function(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,(n=new r).__proto__=e}return void 0!==t&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=u(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;n.format=function(e){if("string"!=typeof e){for(var t=[],r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,o=i.length,a=String(e).replace(c,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return e}}),s=i[r];o>r;s=i[++r])a+=null===s||"object"!=typeof s?" "+s:" "+n.inspect(s);return a}},{events:1}],4:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;(t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)&&n.shift()()},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(e,t){function n(e,t,n){this.db=e,this.query=t||{},n&&(this.execFn=n)}var r=e("./model"),i=e("underscore");n.prototype.limit=function(e){return this._limit=e,this},n.prototype.skip=function(e){return this._skip=e,this},n.prototype.sort=function(e){return this._sort=e,this},n.prototype.projection=function(e){return this._projection=e,this},n.prototype.project=function(e){var t,n,r,o=[],a=this;return void 0===this._projection||0===Object.keys(this._projection).length?e:(t=0!==this._projection._id,this._projection=i.omit(this._projection,"_id"),(r=Object.keys(this._projection)).forEach(function(e){if(void 0!==n&&a._projection[e]!==n)throw new Error("Can't both keep and omit fields except for _id");n=a._projection[e]}),e.forEach(function(e){var a=1===n?i.pick(e,r):i.omit(e,r);t?a._id=e._id:delete a._id,o.push(a)}),o)},n.prototype._exec=function(e){var t,n,i,o=this.db.getCandidates(this.query),a=[],s=0,u=0,c=this,l=null;try{for(t=0;t<o.length;t+=1)if(r.match(o[t],this.query))if(this._sort)a.push(o[t]);else if(this._skip&&this._skip>u)u+=1;else if(a.push(o[t]),s+=1,this._limit&&this._limit<=s)break}catch(t){return e(t)}if(this._sort){n=Object.keys(this._sort);var f=[];for(t=0;t<n.length;t++)i=n[t],f.push({key:i,direction:c._sort[i]});a.sort(function(e,t){var n,i,o;for(o=0;o<f.length;o++)if(0!==(i=(n=f[o]).direction*r.compareThings(r.getDotValue(e,n.key),r.getDotValue(t,n.key),c.db.compareStrings)))return i;return 0});var p=this._limit||a.length,h=this._skip||0;a=a.slice(h,h+p)}try{a=this.project(a)}catch(e){l=e,a=void 0}return this.execFn?this.execFn(l,a,e):e(l,a)},n.prototype.exec=function(){this.db.executor.push({this:this,fn:this._exec,arguments:arguments})},t.exports=n},{"./model":10,underscore:19}],6:[function(e,t){t.exports.uid=function(e){return function(e){var t,n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length%3,s="";for(r=0,n=e.length-a;n>r;r+=3)t=(e[r]<<16)+(e[r+1]<<8)+e[r+2],s+=o[63&(i=t)>>18]+o[63&i>>12]+o[63&i>>6]+o[63&i];switch(a){case 1:t=e[e.length-1],s+=o[t>>2],s+=o[63&t<<4],s+="==";break;case 2:t=(e[e.length-2]<<8)+e[e.length-1],s+=o[t>>10],s+=o[63&t>>4],s+=o[63&t<<2],s+="="}return s}(function(e){for(var t,n=new Array(e),r=0;e>r;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=255&t>>>((3&r)<<3);return n}(Math.ceil(Math.max(8,2*e)))).replace(/[+\/]/g,"").slice(0,e)}},{}],7:[function(e,t){function n(e){var t;"string"==typeof e?(t=e,this.inMemoryOnly=!1):(t=(e=e||{}).filename,this.inMemoryOnly=e.inMemoryOnly||!1,this.autoload=e.autoload||!1,this.timestampData=e.timestampData||!1),t&&"string"==typeof t&&0!==t.length?this.filename=t:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=e.compareStrings,this.persistence=new l({db:this,nodeWebkitAppName:e.nodeWebkitAppName,afterSerialization:e.afterSerialization,beforeDeserialization:e.beforeDeserialization,corruptAlertThreshold:e.corruptAlertThreshold}),this.executor=new a,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new s({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(e.onload||function(e){if(e)throw e})}var r=e("./customUtils"),i=e("./model"),o=e("async"),a=e("./executor"),s=e("./indexes"),u=e("util"),c=e("underscore"),l=e("./persistence"),f=e("./cursor");u.inherits(n,e("events").EventEmitter),n.prototype.loadDatabase=function(){this.executor.push({this:this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},n.prototype.getAllData=function(){return this.indexes._id.getAll()},n.prototype.resetIndexes=function(e){var t=this;Object.keys(this.indexes).forEach(function(n){t.indexes[n].reset(e)})},n.prototype.ensureIndex=function(e,t){var n,r=t||function(){};if(!(e=e||{}).fieldName)return(n=new Error("Cannot create an index without a fieldName")).missingFieldName=!0,r(n);if(this.indexes[e.fieldName])return r(null);this.indexes[e.fieldName]=new s(e);try{this.indexes[e.fieldName].insert(this.getAllData())}catch(t){return delete this.indexes[e.fieldName],r(t)}this.persistence.persistNewState([{$$indexCreated:e}],function(e){return r(e||null)})},n.prototype.removeIndex=function(e,t){var n=t||function(){};delete this.indexes[e],this.persistence.persistNewState([{$$indexRemoved:e}],function(e){return n(e||null)})},n.prototype.addToIndexes=function(e){var t,n,r,i=Object.keys(this.indexes);for(t=0;t<i.length;t+=1)try{this.indexes[i[t]].insert(e)}catch(e){n=t,r=e;break}if(r){for(t=0;n>t;t+=1)this.indexes[i[t]].remove(e);throw r}},n.prototype.removeFromIndexes=function(e){var t=this;Object.keys(this.indexes).forEach(function(n){t.indexes[n].remove(e)})},n.prototype.updateIndexes=function(e,t){var n,r,i,o=Object.keys(this.indexes);for(n=0;n<o.length;n+=1)try{this.indexes[o[n]].update(e,t)}catch(e){r=n,i=e;break}if(i){for(n=0;r>n;n+=1)this.indexes[o[n]].revertUpdate(e,t);throw i}},n.prototype.getCandidates=function(e){var t,n=Object.keys(this.indexes);return t=[],Object.keys(e).forEach(function(n){("string"==typeof e[n]||"number"==typeof e[n]||"boolean"==typeof e[n]||u.isDate(e[n])||null===e[n])&&t.push(n)}),(t=c.intersection(t,n)).length>0?this.indexes[t[0]].getMatching(e[t[0]]):(t=[],Object.keys(e).forEach(function(n){e[n]&&e[n].hasOwnProperty("$in")&&t.push(n)}),(t=c.intersection(t,n)).length>0?this.indexes[t[0]].getMatching(e[t[0]].$in):(t=[],Object.keys(e).forEach(function(n){e[n]&&(e[n].hasOwnProperty("$lt")||e[n].hasOwnProperty("$lte")||e[n].hasOwnProperty("$gt")||e[n].hasOwnProperty("$gte"))&&t.push(n)}),(t=c.intersection(t,n)).length>0?this.indexes[t[0]].getBetweenBounds(e[t[0]]):this.getAllData()))},n.prototype._insert=function(e,t){var n,r=t||function(){};try{n=this.prepareDocumentForInsertion(e),this._insertInCache(n)}catch(e){return r(e)}this.persistence.persistNewState(u.isArray(n)?n:[n],function(e){return e?r(e):r(null,i.deepCopy(n))})},n.prototype.createNewId=function(){var e=r.uid(16);return this.indexes._id.getMatching(e).length>0&&(e=this.createNewId()),e},n.prototype.prepareDocumentForInsertion=function(e){var t,n=this;if(u.isArray(e))t=[],e.forEach(function(e){t.push(n.prepareDocumentForInsertion(e))});else{void 0===(t=i.deepCopy(e))._id&&(t._id=this.createNewId());var r=new Date;this.timestampData&&void 0===t.createdAt&&(t.createdAt=r),this.timestampData&&void 0===t.updatedAt&&(t.updatedAt=r),i.checkObject(t)}return t},n.prototype._insertInCache=function(e){u.isArray(e)?this._insertMultipleDocsInCache(e):this.addToIndexes(e)},n.prototype._insertMultipleDocsInCache=function(e){var t,n,r;for(t=0;t<e.length;t+=1)try{this.addToIndexes(e[t])}catch(e){r=e,n=t;break}if(r){for(t=0;n>t;t+=1)this.removeFromIndexes(e[t]);throw r}},n.prototype.insert=function(){this.executor.push({this:this,fn:this._insert,arguments:arguments})},n.prototype.count=function(e,t){var n=new f(this,e,function(e,t,n){return e?n(e):n(null,t.length)});return"function"!=typeof t?n:void n.exec(t)},n.prototype.find=function(e,t,n){switch(arguments.length){case 1:t={};break;case 2:"function"==typeof t&&(n=t,t={})}var r=new f(this,e,function(e,t,n){var r,o=[];if(e)return n(e);for(r=0;r<t.length;r+=1)o.push(i.deepCopy(t[r]));return n(null,o)});return r.projection(t),"function"!=typeof n?r:void r.exec(n)},n.prototype.findOne=function(e,t,n){switch(arguments.length){case 1:t={};break;case 2:"function"==typeof t&&(n=t,t={})}var r=new f(this,e,function(e,t,n){return e?n(e):1===t.length?n(null,i.deepCopy(t[0])):n(null,null)});return r.projection(t).limit(1),"function"!=typeof n?r:void r.exec(n)},n.prototype._update=function(e,t,n,r){var a,s,u,l,p=this,h=0;"function"==typeof n&&(r=n,n={}),a=r||function(){},s=void 0!==n.multi&&n.multi,u=void 0!==n.upsert&&n.upsert,o.waterfall([function(n){if(!u)return n();new f(p,e).limit(1)._exec(function(r,o){if(r)return a(r);if(1===o.length)return n();var s;try{i.checkObject(t),s=t}catch(n){try{s=i.modify(i.deepCopy(e,!0),t)}catch(r){return a(r)}}return p._insert(s,function(e,t){return e?a(e):a(null,1,t)})})},function(){var r,o=p.getCandidates(e),u=[];try{for(l=0;l<o.length;l+=1)i.match(o[l],e)&&(s||0===h)&&(h+=1,r=i.modify(o[l],t),p.timestampData&&(r.updatedAt=new Date),u.push({oldDoc:o[l],newDoc:r}))}catch(e){return a(e)}try{p.updateIndexes(u)}catch(e){return a(e)}var f=c.pluck(u,"newDoc");p.persistence.persistNewState(f,function(e){if(e)return a(e);if(n.returnUpdatedDocs){var t=[];return f.forEach(function(e){t.push(i.deepCopy(e))}),a(null,h,t)}return a(null,h)})}])},n.prototype.update=function(){this.executor.push({this:this,fn:this._update,arguments:arguments})},n.prototype._remove=function(e,t,n){var r,o,a=this,s=0,u=[],c=this.getCandidates(e);"function"==typeof t&&(n=t,t={}),r=n||function(){},o=void 0!==t.multi&&t.multi;try{c.forEach(function(t){i.match(t,e)&&(o||0===s)&&(s+=1,u.push({$$deleted:!0,_id:t._id}),a.removeFromIndexes(t))})}catch(e){return r(e)}a.persistence.persistNewState(u,function(e){return e?r(e):r(null,s)})},n.prototype.remove=function(){this.executor.push({this:this,fn:this._remove,arguments:arguments})},t.exports=n},{"./cursor":5,"./customUtils":6,"./executor":8,"./indexes":9,"./model":10,"./persistence":11,async:13,events:1,underscore:19,util:3}],8:[function(e,t){function n(){this.buffer=[],this.ready=!1,this.queue=i.queue(function(e,t){var n,i,o=e.arguments[e.arguments.length-1],a=[];for(i=0;i<e.arguments.length;i+=1)a.push(e.arguments[i]);"function"==typeof o?(n=function(){"function"==typeof setImmediate?setImmediate(t):r.nextTick(t),o.apply(null,arguments)},a[a.length-1]=n):(n=function(){t()},a.push(n)),e.fn.apply(e.this,a)},1)}var r=e("__browserify_process"),i=e("async");n.prototype.push=function(e,t){this.ready||t?this.queue.push(e):this.buffer.push(e)},n.prototype.processBuffer=function(){var e;for(this.ready=!0,e=0;e<this.buffer.length;e+=1)this.queue.push(this.buffer[e]);this.buffer=[]},t.exports=n},{__browserify_process:4,async:13}],9:[function(e,t){function n(e,t){return e===t}function r(e){return null===e?"$null":"string"==typeof e?"$string"+e:"boolean"==typeof e?"$boolean"+e:"number"==typeof e?"$number"+e:u.isArray(e)?"$date"+e.getTime():e}function i(e){this.fieldName=e.fieldName,this.unique=e.unique||!1,this.sparse=e.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:a.compareThings,checkValueEquality:n},this.reset()}var o=e("binary-search-tree").AVLTree,a=e("./model"),s=e("underscore"),u=e("util");i.prototype.reset=function(e){this.tree=new o(this.treeOptions),e&&this.insert(e)},i.prototype.insert=function(e){var t,n,i,o,c;if(u.isArray(e))this.insertMultipleDocs(e);else if(void 0!==(t=a.getDotValue(e,this.fieldName))||!this.sparse)if(u.isArray(t)){for(n=s.uniq(t,r),i=0;i<n.length;i+=1)try{this.tree.insert(n[i],e)}catch(e){c=e,o=i;break}if(c){for(i=0;o>i;i+=1)this.tree.delete(n[i],e);throw c}}else this.tree.insert(t,e)},i.prototype.insertMultipleDocs=function(e){var t,n,r;for(t=0;t<e.length;t+=1)try{this.insert(e[t])}catch(e){n=e,r=t;break}if(n){for(t=0;r>t;t+=1)this.remove(e[t]);throw n}},i.prototype.remove=function(e){var t,n=this;return u.isArray(e)?void e.forEach(function(e){n.remove(e)}):void(void 0===(t=a.getDotValue(e,this.fieldName))&&this.sparse||(u.isArray(t)?s.uniq(t,r).forEach(function(t){n.tree.delete(t,e)}):this.tree.delete(t,e)))},i.prototype.update=function(e,t){if(u.isArray(e))this.updateMultipleDocs(e);else{this.remove(e);try{this.insert(t)}catch(t){throw this.insert(e),t}}},i.prototype.updateMultipleDocs=function(e){var t,n,r;for(t=0;t<e.length;t+=1)this.remove(e[t].oldDoc);for(t=0;t<e.length;t+=1)try{this.insert(e[t].newDoc)}catch(e){r=e,n=t;break}if(r){for(t=0;n>t;t+=1)this.remove(e[t].newDoc);for(t=0;t<e.length;t+=1)this.insert(e[t].oldDoc);throw r}},i.prototype.revertUpdate=function(e,t){var n=[];u.isArray(e)?(e.forEach(function(e){n.push({oldDoc:e.newDoc,newDoc:e.oldDoc})}),this.update(n)):this.update(t,e)},i.prototype.getMatching=function(e){var t=this;if(u.isArray(e)){var n={},r=[];return e.forEach(function(e){t.getMatching(e).forEach(function(e){n[e._id]=e})}),Object.keys(n).forEach(function(e){r.push(n[e])}),r}return t.tree.search(e)},i.prototype.getBetweenBounds=function(e){return this.tree.betweenBounds(e)},i.prototype.getAll=function(){var e=[];return this.tree.executeOnEveryNode(function(t){var n;for(n=0;n<t.data.length;n+=1)e.push(t.data[n])}),e},t.exports=i},{"./model":10,"binary-search-tree":14,underscore:19,util:3}],10:[function(e,t){function n(e,t){if("number"==typeof e&&(e=e.toString()),!("$"!==e[0]||"$$date"===e&&"number"==typeof t||"$$deleted"===e&&!0===t||"$$indexCreated"===e||"$$indexRemoved"===e))throw new Error("Field names cannot begin with the $ character");if(-1!==e.indexOf("."))throw new Error("Field names cannot contain a .")}function r(e){d.isArray(e)&&e.forEach(function(e){r(e)}),"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){n(t,e[t]),r(e[t])})}function i(e,t){var n;return"boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||d.isDate(e)?e:d.isArray(e)?(n=[],e.forEach(function(e){n.push(i(e,t))}),n):"object"==typeof e?(n={},Object.keys(e).forEach(function(r){(!t||"$"!==r[0]&&-1===r.indexOf("."))&&(n[r]=i(e[r],t))}),n):void 0}function o(e){return"boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||d.isDate(e)||d.isArray(e)}function a(e,t){return t>e?-1:e>t?1:0}function s(e,t){var n,r;for(n=0;n<Math.min(e.length,t.length);n+=1)if(0!==(r=u(e[n],t[n])))return r;return a(e.length,t.length)}function u(e,t,n){var r,i,o,c,l=n||a;if(void 0===e)return void 0===t?0:-1;if(void 0===t)return void 0===e?0:1;if(null===e)return null===t?0:-1;if(null===t)return null===e?0:1;if("number"==typeof e)return"number"==typeof t?a(e,t):-1;if("number"==typeof t)return"number"==typeof e?a(e,t):1;if("string"==typeof e)return"string"==typeof t?l(e,t):-1;if("string"==typeof t)return"string"==typeof e?l(e,t):1;if("boolean"==typeof e)return"boolean"==typeof t?a(e,t):-1;if("boolean"==typeof t)return"boolean"==typeof e?a(e,t):1;if(d.isDate(e))return d.isDate(t)?a(e.getTime(),t.getTime()):-1;if(d.isDate(t))return d.isDate(e)?a(e.getTime(),t.getTime()):1;if(d.isArray(e))return d.isArray(t)?s(e,t):-1;if(d.isArray(t))return d.isArray(e)?s(e,t):1;for(r=Object.keys(e).sort(),i=Object.keys(t).sort(),c=0;c<Math.min(r.length,i.length);c+=1)if(0!==(o=u(e[r[c]],t[i[c]])))return o;return a(r.length,i.length)}function c(e,t){var n,r,i="string"==typeof t?t.split("."):t;if(e){if(0===i.length)return e;if(1===i.length)return e[i[0]];if(d.isArray(e[i[0]])){if("number"==typeof(n=parseInt(i[1],10))&&!isNaN(n))return c(e[i[0]][n],i.slice(2));for(r=new Array,n=0;n<e[i[0]].length;n+=1)r.push(c(e[i[0]][n],i.slice(1)));return r}return c(e[i[0]],i.slice(1))}}function l(e,t){var n,r,i;if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t)return e===t;if(d.isDate(e)||d.isDate(t))return d.isDate(e)&&d.isDate(t)&&e.getTime()===t.getTime();if((!d.isArray(e)||!d.isArray(t))&&(d.isArray(e)||d.isArray(t))||void 0===e||void 0===t)return!1;try{n=Object.keys(e),r=Object.keys(t)}catch(e){return!1}if(n.length!==r.length)return!1;for(i=0;i<n.length;i+=1){if(-1===r.indexOf(n[i]))return!1;if(!l(e[n[i]],t[n[i]]))return!1}return!0}function f(e,t){return!("string"!=typeof e&&"number"!=typeof e&&!d.isDate(e)&&"string"!=typeof t&&"number"!=typeof t&&!d.isDate(t))&&typeof e==typeof t}function p(e,t){var n,r,i,a;if(o(e)||o(t))return h({needAKey:e},"needAKey",t);for(n=Object.keys(t),a=0;a<n.length;a+=1)if(i=t[r=n[a]],"$"===r[0]){if(!b[r])throw new Error("Unknown logical operator "+r);if(!b[r](e,i))return!1}else if(!h(e,r,i))return!1;return!0}function h(e,t,n,r){var i,o,a,s,u=c(e,t);if(d.isArray(u)&&!r){if(d.isArray(n))return h(e,t,n,!0);if(null!==n&&"object"==typeof n&&!d.isRegExp(n))for(o=Object.keys(n),i=0;i<o.length;i+=1)if(w[o[i]])return h(e,t,n,!0);for(i=0;i<u.length;i+=1)if(h({k:u[i]},"k",n))return!0;return!1}if(null!==n&&"object"==typeof n&&!d.isRegExp(n)&&!d.isArray(n)){if(o=Object.keys(n),a=y.map(o,function(e){return e[0]}),0!==(s=y.filter(a,function(e){return"$"===e})).length&&s.length!==a.length)throw new Error("You cannot mix operators and normal fields");if(s.length>0){for(i=0;i<o.length;i+=1){if(!m[o[i]])throw new Error("Unknown comparison function "+o[i]);if(!m[o[i]](u,n[o[i]]))return!1}return!0}}return d.isRegExp(n)?m.$regex(u,n):!!l(u,n)}var d=e("util"),y=e("underscore"),v={},g={},m={},b={},w={};g.$set=function(e,t,n){e[t]=n},g.$unset=function(e,t){delete e[t]},g.$push=function(e,t,n){if(e.hasOwnProperty(t)||(e[t]=[]),!d.isArray(e[t]))throw new Error("Can't $push an element on non-array values");if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!d.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach(function(n){e[t].push(n)})}else e[t].push(n)},g.$addToSet=function(e,t,n){var r=!0;if(e.hasOwnProperty(t)||(e[t]=[]),!d.isArray(e[t]))throw new Error("Can't $addToSet an element on non-array values");if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!d.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach(function(n){g.$addToSet(e,t,n)})}else e[t].forEach(function(e){0===u(e,n)&&(r=!1)}),r&&e[t].push(n)},g.$pop=function(e,t,n){if(!d.isArray(e[t]))throw new Error("Can't $pop an element from non-array values");if("number"!=typeof n)throw new Error(n+" isn't an integer, can't use it with $pop");0!==n&&(e[t]=n>0?e[t].slice(0,e[t].length-1):e[t].slice(1))},g.$pull=function(e,t,n){var r,i;if(!d.isArray(e[t]))throw new Error("Can't $pull an element from non-array values");for(i=(r=e[t]).length-1;i>=0;i-=1)p(r[i],n)&&r.splice(i,1)},g.$inc=function(e,t,n){if("number"!=typeof n)throw new Error(n+" must be a number");if("number"!=typeof e[t]){if(y.has(e,t))throw new Error("Don't use the $inc modifier on non-number fields");e[t]=n}else e[t]+=n},Object.keys(g).forEach(function(e){var t;v[e]=(t=e,function(e,n,r){var i="string"==typeof n?n.split("."):n;1===i.length?g[t](e,n,r):(e[i[0]]=e[i[0]]||{},v[t](e[i[0]],i.slice(1),r))})}),m.$lt=function(e,t){return f(e,t)&&t>e},m.$lte=function(e,t){return f(e,t)&&t>=e},m.$gt=function(e,t){return f(e,t)&&e>t},m.$gte=function(e,t){return f(e,t)&&e>=t},m.$ne=function(e,t){return void 0===e||!l(e,t)},m.$in=function(e,t){var n;if(!d.isArray(t))throw new Error("$in operator called with a non-array");for(n=0;n<t.length;n+=1)if(l(e,t[n]))return!0;return!1},m.$nin=function(e,t){if(!d.isArray(t))throw new Error("$nin operator called with a non-array");return!m.$in(e,t)},m.$regex=function(e,t){if(!d.isRegExp(t))throw new Error("$regex operator called with non regular expression");return"string"==typeof e&&t.test(e)},m.$exists=function(e,t){return t=!(!t&&""!==t),void 0===e?!t:t},m.$size=function(e,t){if(!d.isArray(e))return!1;if(0!=t%1)throw new Error("$size operator called without an integer");return e.length==t},w.$size=!0,b.$or=function(e,t){var n;if(!d.isArray(t))throw new Error("$or operator used without an array");for(n=0;n<t.length;n+=1)if(p(e,t[n]))return!0;return!1},b.$and=function(e,t){var n;if(!d.isArray(t))throw new Error("$and operator used without an array");for(n=0;n<t.length;n+=1)if(!p(e,t[n]))return!1;return!0},b.$not=function(e,t){return!p(e,t)},b.$where=function(e,t){var n;if(!y.isFunction(t))throw new Error("$where operator used without a function");if(n=t.call(e),!y.isBoolean(n))throw new Error("$where function must return boolean");return n},t.exports.serialize=function(e){return JSON.stringify(e,function(e,t){return n(e,t),void 0===t?void 0:null===t?null:"function"==typeof this[e].getTime?{$$date:this[e].getTime()}:t})},t.exports.deserialize=function(e){return JSON.parse(e,function(e,t){return"$$date"===e?new Date(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t?t:t&&t.$$date?t.$$date:t})},t.exports.deepCopy=i,t.exports.checkObject=r,t.exports.isPrimitiveType=o,t.exports.modify=function(e,t){var n,o,a=Object.keys(t),s=y.map(a,function(e){return e[0]}),u=y.filter(s,function(e){return"$"===e});if(-1!==a.indexOf("_id")&&t._id!==e._id)throw new Error("You cannot change a document's _id");if(0!==u.length&&u.length!==s.length)throw new Error("You cannot mix modifiers and normal fields");if(0===u.length?(n=i(t))._id=e._id:(o=y.uniq(a),n=i(e),o.forEach(function(e){if(!v[e])throw new Error("Unknown modifier "+e);if("object"!=typeof t[e])throw new Error("Modifier "+e+"'s argument must be an object");Object.keys(t[e]).forEach(function(r){v[e](n,r,t[e][r])})})),r(n),e._id!==n._id)throw new Error("You can't change a document's _id");return n},t.exports.getDotValue=c,t.exports.match=p,t.exports.areThingsEqual=l,t.exports.compareThings=u},{underscore:19,util:3}],11:[function(e,t){function n(e){var t,r,i;if(this.db=e.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==e.corruptAlertThreshold?e.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(e.afterSerialization&&!e.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!e.afterSerialization&&e.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");for(this.afterSerialization=e.afterSerialization||function(e){return e},this.beforeDeserialization=e.beforeDeserialization||function(e){return e},t=1;30>t;t+=1)for(r=0;10>r;r+=1)if(i=u.uid(t),this.beforeDeserialization(this.afterSerialization(i))!==i)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss");this.filename&&e.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=n.getNWAppFilename(e.nodeWebkitAppName,this.filename))}var r=e("__browserify_process"),i=e("./storage"),o=e("path"),a=e("./model"),s=e("async"),u=e("./customUtils"),c=e("./indexes");n.ensureDirectoryExists=function(e,t){var n=t||function(){};i.mkdirp(e,function(e){return n(e)})},n.getNWAppFilename=function(e,t){var n;switch(r.platform){case"win32":case"win64":if(!(n=r.env.LOCALAPPDATA||r.env.APPDATA))throw new Error("Couldn't find the base application data folder");n=o.join(n,e);break;case"darwin":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=o.join(n,"Library","Application Support",e);break;case"linux":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=o.join(n,".config",e);break;default:throw new Error("Can't use the Node Webkit relative path for platform "+r.platform)}return o.join(n,"nedb-data",t)},n.prototype.persistCachedDatabase=function(e){var t=e||function(){},n="",r=this;return this.inMemoryOnly?t(null):(this.db.getAllData().forEach(function(e){n+=r.afterSerialization(a.serialize(e))+"\n"}),Object.keys(this.db.indexes).forEach(function(e){"_id"!=e&&(n+=r.afterSerialization(a.serialize({$$indexCreated:{fieldName:e,unique:r.db.indexes[e].unique,sparse:r.db.indexes[e].sparse}}))+"\n")}),void i.crashSafeWriteFile(this.filename,n,function(e){return e?t(e):(r.db.emit("compaction.done"),t(null))}))},n.prototype.compactDatafile=function(){this.db.executor.push({this:this,fn:this.persistCachedDatabase,arguments:[]})},n.prototype.setAutocompactionInterval=function(e){var t=this,n=Math.max(e||0,5e3);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval(function(){t.compactDatafile()},n)},n.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},n.prototype.persistNewState=function(e,t){var n=this,r="",o=t||function(){};return n.inMemoryOnly?o(null):(e.forEach(function(e){r+=n.afterSerialization(a.serialize(e))+"\n"}),0===r.length?o(null):void i.appendFile(n.filename,r,"utf8",function(e){return o(e)}))},n.prototype.treatRawData=function(e){var t,n=e.split("\n"),r={},i=[],o={},s=-1;for(t=0;t<n.length;t+=1){var u;try{(u=a.deserialize(this.beforeDeserialization(n[t])))._id?!0===u.$$deleted?delete r[u._id]:r[u._id]=u:u.$$indexCreated&&null!=u.$$indexCreated.fieldName?o[u.$$indexCreated.fieldName]=u.$$indexCreated:"string"==typeof u.$$indexRemoved&&delete o[u.$$indexRemoved]}catch(e){s+=1}}if(n.length>0&&s/n.length>this.corruptAlertThreshold)throw new Error("More than "+Math.floor(100*this.corruptAlertThreshold)+"% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss");return Object.keys(r).forEach(function(e){i.push(r[e])}),{data:i,indexes:o}},n.prototype.loadDatabase=function(e){var t=e||function(){},r=this;return r.db.resetIndexes(),r.inMemoryOnly?t(null):void s.waterfall([function(e){n.ensureDirectoryExists(o.dirname(r.filename),function(){i.ensureDatafileIntegrity(r.filename,function(){i.readFile(r.filename,"utf8",function(t,n){if(t)return e(t);try{var i=r.treatRawData(n)}catch(t){return e(t)}Object.keys(i.indexes).forEach(function(e){r.db.indexes[e]=new c(i.indexes[e])});try{r.db.resetIndexes(i.data)}catch(t){return r.db.resetIndexes(),e(t)}r.db.persistence.persistCachedDatabase(e)})})})}],function(e){return e?t(e):(r.db.executor.processBuffer(),t(null))})},t.exports=n},{"./customUtils":6,"./indexes":9,"./model":10,"./storage":12,__browserify_process:4,async:13,path:2}],12:[function(e,t){function n(e,t,n,i){"function"==typeof n&&(i=n),r.setItem(e,t,function(){return i()})}var r=e("localforage");r.config({name:"NeDB",storeName:"nedbdata"}),t.exports.exists=function(e,t){r.getItem(e,function(e,n){return t(null!==n)})},t.exports.rename=function(e,t,n){r.getItem(e,function(i,o){null===o?r.removeItem(t,function(){return n()}):r.setItem(t,o,function(){r.removeItem(e,function(){return n()})})})},t.exports.writeFile=n,t.exports.crashSafeWriteFile=n,t.exports.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n),r.getItem(e,function(n,o){o=o||"",o+=t,r.setItem(e,o,function(){return i()})})},t.exports.readFile=function(e,t,n){"function"==typeof t&&(n=t),r.getItem(e,function(e,t){return n(null,t||"")})},t.exports.unlink=function(e,t){r.removeItem(e,function(){return t()})},t.exports.mkdirp=function(e,t){return t()},t.exports.ensureDatafileIntegrity=function(e,t){return t(null)}},{localforage:18}],13:[function(e,t){var n=e("__browserify_process");!function(){function e(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(r,arguments)}}var r,i,o={};null!=(r=this)&&(i=r.async),o.noConflict=function(){return r.async=i,o};var a=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},s=function(e,t){if(e.map)return e.map(t);var n=[];return a(e,function(e,r,i){n.push(t(e,r,i))}),n},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(o.nextTick=n.nextTick,o.setImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:o.nextTick):"function"==typeof setImmediate?(o.nextTick=function(e){setImmediate(e)},o.setImmediate=o.nextTick):(o.nextTick=function(e){setTimeout(e,0)},o.setImmediate=o.nextTick),o.each=function(t,n,r){if(r=r||function(){},!t.length)return r();var i=0;a(t,function(o){n(o,e(function(e){e?(r(e),r=function(){}):(i+=1)>=t.length&&r(null)}))})},o.forEach=o.each,o.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1)>=e.length?n(null):i()})};i()},o.forEachSeries=o.eachSeries,o.eachLimit=function(e,t,n,r){c(t).apply(null,[e,n,r])},o.forEachLimit=o.eachLimit;var c=function(e){return function(t,n,r){if(r=r||function(){},!t.length||0>=e)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;e>a&&o<t.length;)a+=1,n(t[(o+=1)-1],function(e){e?(r(e),r=function(){}):(a-=1,(i+=1)>=t.length?r():s())})}()}},l=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.each].concat(t))}},f=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[o.eachSeries].concat(t))}},p=function(e,t,n,r){var i=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})};o.map=l(p),o.mapSeries=f(p),o.mapLimit=function(e,t,n,r){return h(t)(e,n,r)};var h=function(e){return t=e,n=p,function(){var e=Array.prototype.slice.call(arguments);return n.apply(null,[c(t)].concat(e))};var t,n};o.reduce=function(e,t,n,r){o.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},o.inject=o.reduce,o.foldl=o.reduce,o.reduceRight=function(e,t,n,r){var i=s(e,function(e){return e}).reverse();o.reduce(i,t,n,r)},o.foldr=o.reduceRight;var d=function(e,t,n,r){var i=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(){r(s(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.filter=l(d),o.filterSeries=f(d),o.select=o.filter,o.selectSeries=o.filterSeries;var y=function(e,t,n,r){var i=[];e(t=s(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(){r(s(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};o.reject=l(y),o.rejectSeries=f(y);var v=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(){r()})};o.detect=l(v),o.detectSeries=f(v),o.some=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(){n(!1)})},o.any=o.some,o.every=function(e,t,n){o.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(){n(!0)})},o.all=o.every,o.sortBy=function(e,t,n){o.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,s(t.sort(function(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0}),function(e){return e.value}))})},o.auto=function(e,t){t=t||function(){};var n=u(e);if(!n.length)return t(null);var r={},i=[],s=function(e){i.unshift(e)},c=function(){a(i.slice(0),function(e){e()})};s(function(){u(r).length===n.length&&(t(null,r),t=function(){})}),a(n,function(n){var l=e[n]instanceof Function?[e[n]]:e[n],f=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var s={};a(u(r),function(e){s[e]=r[e]}),s[n]=i,t(e,s),t=function(){}}else r[n]=i,o.setImmediate(c)},p=l.slice(0,Math.abs(l.length-1))||[],h=function(){return t=function(e,t){return e&&r.hasOwnProperty(t)},i=!0,((e=p).reduce?e.reduce(t,i):(a(e,function(e,n,r){i=t(i,e,n,r)}),i))&&!r.hasOwnProperty(n);var e,t,i};if(h())l[l.length-1](f,r);else{var d=function(){h()&&(function(e){for(var t=0;t<i.length;t+=1)if(i[t]===e)return void i.splice(t,1)}(d),l[l.length-1](f,r))};s(d)}})},o.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),a=e.next();a?i.push(r(a)):i.push(t),o.setImmediate(function(){e.apply(null,i)})}}};r(o.iterator(e))()};var g=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(u(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};o.parallel=function(e,t){g({map:o.map,each:o.each},e,t)},o.parallelLimit=function(e,t,n){g({map:h(t),each:c(t)},e,n)},o.series=function(e,t){if(t=t||function(){},e.constructor===Array)o.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};o.eachSeries(u(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},o.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},o.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var m=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};o.concat=l(m),o.concatSeries=f(m),o.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void o.whilst(e,t,n)}):n()},o.doWhilst=function(e,t,n){e(function(r){return r?n(r):void(t()?o.doWhilst(e,t,n):n())})},o.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void o.until(e,t,n)})},o.doUntil=function(e,t,n){e(function(r){return r?n(r):void(t()?n():o.doUntil(e,t,n))})},o.queue=function(t,n){function r(e,t,r,i){t.constructor!==Array&&(t=[t]),a(t,function(t){var a={data:t,callback:"function"==typeof i?i:null};r?e.tasks.unshift(a):e.tasks.push(a),e.saturated&&e.tasks.length===n&&e.saturated(),o.setImmediate(e.process)})}void 0===n&&(n=1);var i=0,s={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){r(s,e,!1,t)},unshift:function(e,t){r(s,e,!0,t)},process:function(){if(i<s.concurrency&&s.tasks.length){var n=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),i+=1;var r=e(function(){i-=1,n.callback&&n.callback.apply(n,arguments),s.drain&&0===s.tasks.length+i&&s.drain(),s.process()});t(n.data,r)}},length:function(){return s.tasks.length},running:function(){return i}};return s},o.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),a(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.saturated&&r.length===t&&i.saturated()}),o.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return void(i.drain&&i.drain());var u="number"==typeof t?r.splice(0,t):r.splice(0),c=s(u,function(e){return e.data});i.empty&&i.empty(),n=!0,e(c,function(){n=!1;var e=arguments;a(u,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var b=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&a(n,function(t){console[e](t)}))}]))}};o.log=b("log"),o.dir=b("dir"),o.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=t.apply(null,i);a in n?o.apply(null,n[a]):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;i>t;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},o.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},o.times=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return o.map(r,t,n)},o.timesSeries=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return o.mapSeries(r,t,n)},o.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();o.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}};var w=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};o.applyEach=l(w),o.applyEachSeries=f(w),o.forever=function(e,t){!function n(r){if(r){if(t)return t(r);throw r}e(n)}()},void 0!==t&&t.exports?t.exports=o:r.async=o}()},{__browserify_process:4}],14:[function(e,t){t.exports.BinarySearchTree=e("./lib/bst"),t.exports.AVLTree=e("./lib/avltree")},{"./lib/avltree":15,"./lib/bst":16}],15:[function(e,t){function n(e){this.tree=new r(e)}function r(e){e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,e.hasOwnProperty("key")&&(this.key=e.key),this.data=e.hasOwnProperty("value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||o.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||o.defaultCheckValueEquality}var i=e("./bst"),o=e("./customUtils"),a=e("util");e("underscore"),a.inherits(r,i),n._AVLTree=r,r.prototype.checkHeightCorrect=function(){var e,t;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(e=this.left?this.left.height:0,t=this.right?this.right.height:0,this.height!==1+Math.max(e,t))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},r.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},r.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},r.prototype.checkIsAVLT=function(){r.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},n.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},r.prototype.rightRotation=function(){var e,t,n,r,i=this,o=this.left;return o?(e=o.right,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.right=i,i.parent=o,i.left=e,e&&(e.parent=i),t=o.left?o.left.height:0,n=e?e.height:0,r=i.right?i.right.height:0,i.height=Math.max(n,r)+1,o.height=Math.max(t,i.height)+1,o):this},r.prototype.leftRotation=function(){var e,t,n,r,i=this,o=this.right;return o?(e=o.left,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.left=i,i.parent=o,i.right=e,e&&(e.parent=i),t=i.left?i.left.height:0,n=e?e.height:0,r=o.right?o.right.height:0,i.height=Math.max(t,n)+1,o.height=Math.max(r,i.height)+1,o):this},r.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},r.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},r.prototype.rebalanceAlongPath=function(e){var t,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=e.length-1;n>=0;n-=1)e[n].height=1+Math.max(e[n].left?e[n].left.height:0,e[n].right?e[n].right.height:0),e[n].balanceFactor()>1&&(t=e[n].rightTooSmall(),0===n&&(r=t)),e[n].balanceFactor()<-1&&(t=e[n].leftTooSmall(),0===n&&(r=t));return r},r.prototype.insert=function(e,t){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=e,this.data.push(t),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,e)){if(r.unique){var i=new Error("Can't insert key "+e+", it violates the unique constraint");throw i.key=e,i.errorType="uniqueViolated",i}return r.data.push(t),this}if(n.push(r),r.compareKeys(e,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:e,value:t}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:e,value:t}));break}r=r.right}}return this.rebalanceAlongPath(n)},n.prototype.insert=function(e,t){var n=this.tree.insert(e,t);n&&(this.tree=n)},r.prototype.delete=function(e,t){var n,r=[],i=this,o=[];if(!this.hasOwnProperty("key"))return this;for(;0!==i.compareKeys(e,i.key);)if(o.push(i),i.compareKeys(e,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}if(i.data.length>1&&t)return i.data.forEach(function(e){i.checkValueEquality(e,t)||r.push(e)}),i.data=r,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(o));if(!i.left||!i.right)return n=i.left?i.left:i.right,i===this?(n.parent=null,n):(i.parent.left===i?(i.parent.left=n,n.parent=i.parent):(i.parent.right=n,n.parent=i.parent),this.rebalanceAlongPath(o));if(o.push(i),!(n=i.left).right)return i.key=n.key,i.data=n.data,i.left=n.left,n.left&&(n.left.parent=i),this.rebalanceAlongPath(o);for(;n.right;)o.push(n),n=n.right;return i.key=n.key,i.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(o)},n.prototype.delete=function(e,t){var n=this.tree.delete(e,t);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(e){n.prototype[e]=function(){return this.tree[e].apply(this.tree,arguments)}}),t.exports=n},{"./bst":16,"./customUtils":17,underscore:19,util:3}],16:[function(e,t){function n(e){e=e||{},this.left=null,this.right=null,this.parent=void 0!==e.parent?e.parent:null,e.hasOwnProperty("key")&&(this.key=e.key),this.data=e.hasOwnProperty("value")?[e.value]:[],this.unique=e.unique||!1,this.compareKeys=e.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=e.checkValueEquality||i.defaultCheckValueEquality}function r(e,t){var n;for(n=0;n<t.length;n+=1)e.push(t[n])}var i=e("./customUtils");n.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},n.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},n.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},n.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},n.prototype.checkAllNodesFullfillCondition=function(e){this.hasOwnProperty("key")&&(e(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(e),this.right&&this.right.checkAllNodesFullfillCondition(e))},n.prototype.checkNodeOrdering=function(){var e=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(t){if(e.compareKeys(t,e.key)>=0)throw new Error("Tree with root "+e.key+" is not a binary search tree")}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(t){if(e.compareKeys(t,e.key)<=0)throw new Error("Tree with root "+e.key+" is not a binary search tree")}),this.right.checkNodeOrdering()))},n.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},n.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},n.prototype.getNumberOfKeys=function(){var e;return this.hasOwnProperty("key")?(e=1,this.left&&(e+=this.left.getNumberOfKeys()),this.right&&(e+=this.right.getNumberOfKeys()),e):0},n.prototype.createSimilar=function(e){return(e=e||{}).unique=this.unique,e.compareKeys=this.compareKeys,e.checkValueEquality=this.checkValueEquality,new this.constructor(e)},n.prototype.createLeftChild=function(e){var t=this.createSimilar(e);return t.parent=this,this.left=t,t},n.prototype.createRightChild=function(e){var t=this.createSimilar(e);return t.parent=this,this.right=t,t},n.prototype.insert=function(e,t){if(!this.hasOwnProperty("key"))return this.key=e,void this.data.push(t);if(0!==this.compareKeys(this.key,e))this.compareKeys(e,this.key)<0?this.left?this.left.insert(e,t):this.createLeftChild({key:e,value:t}):this.right?this.right.insert(e,t):this.createRightChild({key:e,value:t});else{if(this.unique){var n=new Error("Can't insert key "+e+", it violates the unique constraint");throw n.key=e,n.errorType="uniqueViolated",n}this.data.push(t)}},n.prototype.search=function(e){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,e)?this.data:this.compareKeys(e,this.key)<0?this.left?this.left.search(e):[]:this.right?this.right.search(e):[]:[]},n.prototype.getLowerBoundMatcher=function(e){var t=this;return e.hasOwnProperty("$gt")||e.hasOwnProperty("$gte")?e.hasOwnProperty("$gt")&&e.hasOwnProperty("$gte")?0===t.compareKeys(e.$gte,e.$gt)?function(n){return t.compareKeys(n,e.$gt)>0}:t.compareKeys(e.$gte,e.$gt)>0?function(n){return t.compareKeys(n,e.$gte)>=0}:function(n){return t.compareKeys(n,e.$gt)>0}:e.hasOwnProperty("$gt")?function(n){return t.compareKeys(n,e.$gt)>0}:function(n){return t.compareKeys(n,e.$gte)>=0}:function(){return!0}},n.prototype.getUpperBoundMatcher=function(e){var t=this;return e.hasOwnProperty("$lt")||e.hasOwnProperty("$lte")?e.hasOwnProperty("$lt")&&e.hasOwnProperty("$lte")?0===t.compareKeys(e.$lte,e.$lt)?function(n){return t.compareKeys(n,e.$lt)<0}:t.compareKeys(e.$lte,e.$lt)<0?function(n){return t.compareKeys(n,e.$lte)<=0}:function(n){return t.compareKeys(n,e.$lt)<0}:e.hasOwnProperty("$lt")?function(n){return t.compareKeys(n,e.$lt)<0}:function(n){return t.compareKeys(n,e.$lte)<=0}:function(){return!0}},n.prototype.betweenBounds=function(e,t,n){var i=[];return this.hasOwnProperty("key")?(t=t||this.getLowerBoundMatcher(e),n=n||this.getUpperBoundMatcher(e),t(this.key)&&this.left&&r(i,this.left.betweenBounds(e,t,n)),t(this.key)&&n(this.key)&&r(i,this.data),n(this.key)&&this.right&&r(i,this.right.betweenBounds(e,t,n)),i):[]},n.prototype.deleteIfLeaf=function(){return!this.left&&!this.right&&(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0))},n.prototype.deleteIfOnlyOneChild=function(){var e;return this.left&&!this.right&&(e=this.left),!this.left&&this.right&&(e=this.right),!!e&&(this.parent?(this.parent.left===this?(this.parent.left=e,e.parent=this.parent):(this.parent.right=e,e.parent=this.parent),!0):(this.key=e.key,this.data=e.data,this.left=null,e.left&&(this.left=e.left,e.left.parent=this),this.right=null,e.right&&(this.right=e.right,e.right.parent=this),!0))},n.prototype.delete=function(e,t){var n,r=[],i=this;if(this.hasOwnProperty("key")){if(this.compareKeys(e,this.key)<0)return void(this.left&&this.left.delete(e,t));if(this.compareKeys(e,this.key)>0)return void(this.right&&this.right.delete(e,t));if(0!==!this.compareKeys(e,this.key))return this.data.length>1&&void 0!==t?(this.data.forEach(function(e){i.checkValueEquality(e,t)||r.push(e)}),void(i.data=r)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.left=n.left,n.left&&(n.left.parent=n.parent)):(n.parent.right=n.left,n.left&&(n.left.parent=n.parent))):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.right=n.right,n.right&&(n.right.parent=n.parent)):(n.parent.left=n.right,n.right&&(n.right.parent=n.parent)))))}},n.prototype.executeOnEveryNode=function(e){this.left&&this.left.executeOnEveryNode(e),e(this),this.right&&this.right.executeOnEveryNode(e)},n.prototype.prettyPrint=function(e,t){t=t||"",console.log(t+"* "+this.key),e&&console.log(t+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(e,t+"  "):console.log(t+"  *"),this.right?this.right.prettyPrint(e,t+"  "):console.log(t+"  *"))},t.exports=n},{"./customUtils":17}],17:[function(e,t){t.exports.getRandomArray=function e(t){var n,r;return 0===t?[]:1===t?[0]:(n=e(t-1),r=Math.floor(Math.random()*t),n.splice(r,0,t-1),n)},t.exports.defaultCompareKeysFunction=function(e,t){if(t>e)return-1;if(e>t)return 1;if(e===t)return 0;var n=new Error("Couldn't compare elements");throw n.a=e,n.b=t,n},t.exports.defaultCheckValueEquality=function(e,t){return e===t}},{}],18:[function(e,t,n){var r,i,o,a,s,u,c,l=e("__browserify_process"),f=self;u={},c={},s=a=function(e){function t(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var a=n[i];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(s._eak_seen=u,c[e])return c[e];if(c[e]={},!u[e])throw new Error("Could not find module "+e);for(var n,r=u[e],i=r.deps,o=r.callback,l=[],f=0,p=i.length;p>f;f++)"exports"===i[f]?l.push(n={}):l.push(a(t(i[f])));var h=o.apply(this,l);return c[e]=n||h},(o=function(e,t,n){u[e]={deps:t,callback:n}})("promise/all",["./utils","exports"],function(e,t){"use strict";var n=e.isArray,r=e.isFunction;t.all=function(e){if(!n(e))throw new TypeError("You must pass an array to all.");return new this(function(t,n){function i(e){return function(t){o(e,t)}}function o(e,n){s[e]=n,0==--u&&t(s)}var a,s=[],u=e.length;0===u&&t([]);for(var c=0;c<e.length;c++)(a=e[c])&&r(a.then)?a.then(i(c),n):o(c,a)})}}),o("promise/asap",["exports"],function(e){"use strict";function t(){for(var e=0;e<c.length;e++){var t=c[e];(0,t[0])(t[1])}c=[]}var n,r,i,o,a="undefined"!=typeof window?window:{},s=a.MutationObserver||a.WebKitMutationObserver,u=void 0!==f?f:void 0===this?window:this,c=[];n=void 0!==l&&"[object process]"==={}.toString.call(l)?function(){l.nextTick(t)}:s?(r=0,i=new s(t),o=document.createTextNode(""),i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}):function(){u.setTimeout(t,1)},e.asap=function(e,t){1===c.push([e,t])&&n()}}),o("promise/config",["exports"],function(e){"use strict";var t={instrument:!1};e.config=t,e.configure=function(e,n){return 2!==arguments.length?t[e]:void(t[e]=n)}}),o("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";var r=e.Promise,i=t.isFunction;n.polyfill=function(){var e,t;"Promise"in(e=void 0!==f?f:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise(function(e){t=e}),i(t))||(e.Promise=r)}}),o("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,o,a,s){"use strict";function u(e){if(!b(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof u))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){d(t,e)}try{e(function(e){p(t,e)},n)}catch(e){n(e)}}(e,this)}function c(e,t,n,r){var i,o,a,s,u=b(n);if(u)try{i=n(r),a=!0}catch(e){s=!0,o=e}else i=r,a=!0;f(t,i)||(u&&a?p(t,i):s?d(t,o):e===C?p(t,i):e===A&&d(t,i))}function l(e,t){for(var n=e._subscribers,r=e._detail,i=0;i<n.length;i+=3)c(t,n[i],n[i+t],r);e._subscribers=null}function f(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(m(t)&&(r=t.then,b(r)))return r.call(t,function(r){return!!n||(n=!0,void(t!==r?p(e,r):h(e,r)))},function(t){return!!n||(n=!0,void d(e,t))}),!0}catch(t){return!!n||(d(e,t),!0)}return!1}function p(e,t){e===t?h(e,t):f(e,t)||h(e,t)}function h(e,t){e._state===E&&(e._state=T,e._detail=t,g.async(y,e))}function d(e,t){e._state===E&&(e._state=T,e._detail=t,g.async(v,e))}function y(e){l(e,e._state=C)}function v(e){l(e,e._state=A)}var g=e.config;e.configure;var m=t.objectOrFunction,b=t.isFunction;t.now;var w=n.all,x=r.race,S=i.resolve,_=o.reject,k=a.asap;g.async=k;var E=void 0,T=0,C=1,A=2;u.prototype={constructor:u,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n,r,i,o,a,s=this,u=new this.constructor(function(){});if(this._state){var l=arguments;g.async(function(){c(s._state,u,l[s._state-1],s._detail)})}else n=u,r=e,i=t,o=this._subscribers,a=o.length,o[a]=n,o[a+C]=r,o[a+A]=i;return u},catch:function(e){return this.then(null,e)}},u.all=w,u.race=x,u.resolve=S,u.reject=_,s.Promise=u}),o("promise/race",["./utils","exports"],function(e,t){"use strict";var n=e.isArray;t.race=function(e){if(!n(e))throw new TypeError("You must pass an array to race.");return new this(function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)})}}),o("promise/reject",["exports"],function(e){"use strict";e.reject=function(e){return new this(function(t,n){n(e)})}}),o("promise/resolve",["exports"],function(e){"use strict";e.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}}),o("promise/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e}var n=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(e){return t(e)||"object"==typeof e&&null!==e},e.isFunction=t,e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.now=n}),a("promise/polyfill").polyfill(),r=this,i=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,function(){function e(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function r(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=d(t[n])?t[n].slice():t[n])}return arguments[0]}function i(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t]===e)return!0;return!1}var o,a,s,u={},c={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},l=[c.INDEXEDDB,c.WEBSQL,c.LOCALSTORAGE],f=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],p={description:"",driver:l.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},h=(o=this,a=a||o.indexedDB||o.webkitIndexedDB||o.mozIndexedDB||o.OIndexedDB||o.msIndexedDB,(s={})[c.WEBSQL]=!!o.openDatabase,s[c.INDEXEDDB]=!!function(){if(void 0!==o.openDatabase&&o.navigator&&o.navigator.userAgent&&/Safari/.test(o.navigator.userAgent)&&!/Chrome/.test(o.navigator.userAgent))return!1;try{return a&&"function"==typeof a.open&&void 0!==o.IDBKeyRange}catch(e){return!1}}(),s[c.LOCALSTORAGE]=!!function(){try{return o.localStorage&&"setItem"in o.localStorage&&o.localStorage.setItem}catch(e){return!1}}(),s),d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},y=new(function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.INDEXEDDB=c.INDEXEDDB,this.LOCALSTORAGE=c.LOCALSTORAGE,this.WEBSQL=c.WEBSQL,this._defaultConfig=r({},p),this._config=r({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return t.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},t.prototype.defineDriver=function(e,t,n){var r=new Promise(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),a=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(o);if(i(e._driver))return void n(a);for(var s=f.concat("_initStorage"),c=0;c<s.length;c++){var l=s[c];if(!l||!e[l]||"function"!=typeof e[l])return void n(o)}var p=Promise.resolve(!0);"_support"in e&&(p=e._support&&"function"==typeof e._support?e._support():Promise.resolve(!!e._support)),p.then(function(n){h[r]=n,u[r]=e,t()},n)}catch(e){n(e)}});return r.then(t,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(e,t,r){var o=this,a=function(){if(i(e))switch(e){case o.INDEXEDDB:return new Promise(function(e){e(n(1))});case o.LOCALSTORAGE:return new Promise(function(e){e(n(2))});case o.WEBSQL:return new Promise(function(e){e(n(4))})}else if(u[e])return Promise.resolve(u[e]);return Promise.reject(new Error("Driver not found."))}();return a.then(t,r),a},t.prototype.getSerializer=function(e){var t=new Promise(function(e){e(n(3))});return e&&"function"==typeof e&&t.then(function(t){e(t)}),t},t.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return n.then(e,e),n},t.prototype.setDriver=function(e,t,n){function r(){i._config.driver=i.driver()}var i=this;d(e)||(e=[e]);var o=this._getSupportedDrivers(e),a=null!==this._driverSet?this._driverSet.catch(function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=a.then(function(){var e=o[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){var t;i._driver=e._driver,r(),i._wrapLibraryMethodsWithReady(),i._initDriver=(t=o,function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(function(e){return i._extend(e),r(),i._ready=i._initStorage(i._config),i._ready}).catch(n)}r();var a=new Error("No available storage method found.");return i._driverSet=Promise.reject(a),i._driverSet}()})})}).catch(function(){r();var e=new Error("No available storage method found.");return i._driverSet=Promise.reject(e),i._driverSet}),this._driverSet.then(t,n),this._driverSet},t.prototype.supports=function(e){return!!h[e]},t.prototype._extend=function(e){r(this,e)},t.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<f.length;t++)e(this,f[t])},t.prototype.createInstance=function(e){return new t(e)},t}());t.default=y}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,function(){function e(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(s.BlobBuilder||s.MSBlobBuilder||s.MozBlobBuilder||s.WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function n(t){return new Promise(function(n,r){var i=e([""],{type:"image/png"}),o=t.transaction([f],"readwrite");o.objectStore(f).put(i,"key"),o.oncomplete=function(){var e=t.transaction([f],"readwrite").objectStore(f).get("key");e.onerror=r,e.onsuccess=function(e){var t,r=e.target.result,i=URL.createObjectURL(r);(t=i,new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.withCredentials=!0,r.responseType="arraybuffer",r.onreadystatechange=function(){return 4===r.readyState?200===r.status?e({response:r.response,type:r.getResponseHeader("Content-Type")}):void n({status:r.status,response:r.response}):void 0},r.send()})).then(function(e){n(!(!e||"image/png"!==e.type))},function(){n(!1)}).then(function(){URL.revokeObjectURL(i)})}}}).catch(function(){return!1})}function r(t){return e([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;t>i;i++)r[i]=e.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function i(e){return e&&e.__local_forage_encoded_blob}function o(e,t){return new Promise(function(n,r){if(e.db){if(!t)return n(e.db);e.db.close()}var i=[e.name];t&&i.push(e.version);var o=u.open.apply(u,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;s.console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(){r(o.error)},o.onsuccess=function(){n(o.result)}})}function a(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var s=this,u=u||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(u){var c,l,f="local-forage-detect-blob-support",p={_driver:"asyncStorage",_initStorage:function(e){function t(){return Promise.resolve()}var n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];l||(l={});var a=l[r.name];a||(a={forages:[],db:null},l[r.name]=a),a.forages.push(this);for(var u=[],c=0;c<a.forages.length;c++){var f=a.forages[c];f!==this&&u.push(f.ready().catch(t))}var p=a.forages.slice(0);return Promise.all(u).then(function(){return r.db=a.db,o(r,!1)}).then(function(e){return r.db=e,function(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&s.console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}(r,n._defaultConfig.version)?o(r,!0):e}).then(function(e){for(var t in r.db=a.db=e,n._dbInfo=r,p){var i=p[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},iterate:function(e,t){var n=this,o=new Promise(function(t,o){n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName).openCursor(),u=1;s.onsuccess=function(){var n=s.result;if(n){var o=n.value;i(o)&&(o=r(o));var a=e(o,n.key,u++);void 0!==a?t(a):n.continue()}else t()},s.onerror=function(){o(s.error)}}).catch(o)});return a(o,t),o},getItem:function(e,t){var n=this;"string"!=typeof e&&(s.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new Promise(function(t,o){n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),i(e)&&(e=r(e)),t(e)},s.onerror=function(){o(s.error)}}).catch(o)});return a(o,t),o},setItem:function(e,t,r){var i=this;"string"!=typeof e&&(s.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new Promise(function(r,o){var a;i.ready().then(function(){return a=i._dbInfo,e=a.db,"boolean"==typeof c?Promise.resolve(c):n(e).then(function(e){return c=e});var e}).then(function(e){return!e&&t instanceof Blob?(n=t,new Promise(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})):t;var n}).then(function(t){var n=a.db.transaction(a.storeName,"readwrite"),i=n.objectStore(a.storeName);null===t&&(t=void 0);var s=i.put(t,e);n.oncomplete=function(){void 0===t&&(t=null),r(t)},n.onabort=n.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}).catch(o)});return a(o,r),o},removeItem:function(e,t){var n=this;"string"!=typeof e&&(s.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),a=o.objectStore(i.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}).catch(r)});return a(r,t),r},clear:function(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}).catch(n)});return a(n,e),n},length:function(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}).catch(n)});return a(n,e),n},key:function(e,t){var n=this,r=new Promise(function(t,r){return 0>e?void t(null):void n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))):void t(null)},s.onerror=function(){r(s.error)}}).catch(r)});return a(r,t),r},keys:function(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).openCursor(),o=[];i.onsuccess=function(){var t=i.result;return t?(o.push(t.key),void t.continue()):void e(o)},i.onerror=function(){n(i.error)}}).catch(n)});return a(n,e),n}};t.default=p}}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,function(){function e(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var r=this,i=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;i=this.localStorage}catch(e){return}var o={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=t.name+"/",t.storeName!==this._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),this._dbInfo=t,new Promise(function(e){e(n(3))}).then(function(e){return t.serializer=e,Promise.resolve()})},iterate:function(t,n){var r=this,o=r.ready().then(function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,a=i.length,s=1,u=0;a>u;u++){var c=i.key(u);if(0===c.indexOf(n)){var l=i.getItem(c);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,c.substring(o),s++)))return l}}});return e(o,n),o},getItem:function(t,n){var o=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var a=o.ready().then(function(){var e=o._dbInfo,n=i.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return e(a,n),a},setItem:function(t,n,o){var a=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var s=a.ready().then(function(){void 0===n&&(n=null);var e=n;return new Promise(function(r,o){var s=a._dbInfo;s.serializer.serialize(n,function(n,a){if(a)o(a);else try{i.setItem(s.keyPrefix+t,n),r(e)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&o(e),o(e)}})})});return e(s,o),s},removeItem:function(t,n){var o=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var a=o.ready().then(function(){var e=o._dbInfo;i.removeItem(e.keyPrefix+t)});return e(a,n),a},clear:function(t){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=i.length-1;t>=0;t--){var r=i.key(t);0===r.indexOf(e)&&i.removeItem(r)}});return e(r,t),r},length:function(t){var n=this.keys().then(function(e){return e.length});return e(n,t),n},key:function(t,n){var r=this,o=r.ready().then(function(){var e,n=r._dbInfo;try{e=i.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return e(o,n),o},keys:function(t){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,t=i.length,r=[],o=0;t>o;o++)0===i.key(o).indexOf(e.keyPrefix)&&r.push(i.key(o).substring(e.keyPrefix.length));return r});return e(r,t),r}};t.default=o}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,function(){function e(e){var t,n,i,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;u>t;t+=4)n=r.indexOf(e[t]),i=r.indexOf(e[t+1]),o=r.indexOf(e[t+2]),a=r.indexOf(e[t+3]),f[c++]=n<<2|i>>4,f[c++]=(15&i)<<4|o>>2,f[c++]=(3&o)<<6|63&a;return l}function n(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=r[n[t]>>2],i+=r[(3&n[t])<<4|n[t+1]>>4],i+=r[(15&n[t+1])<<2|n[t+2]>>6],i+=r[63&n[t+2]];return 2==n.length%3?i=i.substring(0,i.length-1)+"=":1==n.length%3&&(i=i.substring(0,i.length-2)+"=="),i}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="~~local_forage_type~",o=/^~~local_forage_type~([^~]+)~/,a="__lfsc__:",s=a.length,u="arbf",c="blob",l="si08",f="ui08",p="uic8",h="si16",d="si32",y="ur16",v="ui32",g="fl32",m="fl64",b=s+u.length,w=this,x={serialize:function(e,t){var r="";if(e&&(r=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var o,s=a;e instanceof ArrayBuffer?(o=e,s+=u):(o=e.buffer,"[object Int8Array]"===r?s+=l:"[object Uint8Array]"===r?s+=f:"[object Uint8ClampedArray]"===r?s+=p:"[object Int16Array]"===r?s+=h:"[object Uint16Array]"===r?s+=y:"[object Int32Array]"===r?s+=d:"[object Uint32Array]"===r?s+=v:"[object Float32Array]"===r?s+=g:"[object Float64Array]"===r?s+=m:t(new Error("Failed to get type for BinaryArray"))),t(s+n(o))}else if("[object Blob]"===r){var b=new FileReader;b.onload=function(){var r=i+e.type+"~"+n(this.result);t(a+c+r)},b.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(t){if(t.substring(0,s)!==a)return JSON.parse(t);var n,r=t.substring(b),i=t.substring(s,b);if(i===c&&o.test(r)){var x=r.match(o);n=x[1],r=r.substring(x[0].length)}var S=e(r);switch(i){case u:return S;case c:return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(w.BlobBuilder||w.MSBlobBuilder||w.MozBlobBuilder||w.WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([S],{type:n});case l:return new Int8Array(S);case f:return new Uint8Array(S);case p:return new Uint8ClampedArray(S);case h:return new Int16Array(S);case y:return new Uint16Array(S);case d:return new Int32Array(S);case v:return new Uint32Array(S);case g:return new Float32Array(S);case m:return new Float64Array(S);default:throw new Error("Unkown type: "+i)}},stringToBuffer:e,bufferToString:n};t.default=x}.call("undefined"!=typeof window?window:self),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,function(){function e(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var r=this,i=this.openDatabase;if(i){var o={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var o in e)r[o]="string"!=typeof e[o]?e[o].toString():e[o];var a=new Promise(function(n,o){try{r.db=i(r.name,String(r.version),r.description,r.size)}catch(r){return t.setDriver(t.LOCALSTORAGE).then(function(){return t._initStorage(e)}).then(n).catch(o)}r.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=r,n()},function(e,t){o(t)})})});return new Promise(function(e){e(n(3))}).then(function(e){return r.serializer=e,a})},iterate:function(t,n){var r=this,i=new Promise(function(e,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){r.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;a>s;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,s+1)))return void e(c)}e()},function(e,t){n(t)})})}).catch(n)});return e(i,n),i},getItem:function(t,n){var i=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)},function(e,t){n(t)})})}).catch(n)});return e(o,n),o},setItem:function(t,n,i){var o=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var a=new Promise(function(e,r){o.ready().then(function(){void 0===n&&(n=null);var i=n,a=o._dbInfo;a.serializer.serialize(n,function(n,o){o?r(o):a.db.transaction(function(o){o.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){e(i)},function(e,t){r(t)})},function(e){e.code===e.QUOTA_ERR&&r(e)})})}).catch(r)});return e(a,i),a},removeItem:function(t,n){var i=this;"string"!=typeof t&&(r.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[t],function(){e()},function(e,t){n(t)})})}).catch(n)});return e(o,n),o},clear:function(t){var n=this,r=new Promise(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})}).catch(t)});return e(r,t),r},length:function(t){var n=this,r=new Promise(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,n){t(n)})})}).catch(t)});return e(r,t),r},key:function(t,n){var r=this,i=new Promise(function(e,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){r.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(e,t){n(t)})})}).catch(n)});return e(i,n),i},keys:function(t){var n=this,r=new Promise(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,n){t(n)})})}).catch(t)});return e(r,t),r}};t.default=o}}.call("undefined"!=typeof window?window:self),e.exports=t.default}])},"object"==typeof n&&"object"==typeof t?t.exports=i():"object"==typeof n?n.localforage=i():r.localforage=i()},{__browserify_process:4}],19:[function(e,t,n){(function(){var e=this,r=e._,i={},o=Array.prototype,a=Object.prototype,s=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=a.toString,p=a.hasOwnProperty,h=o.forEach,d=o.map,y=o.reduce,v=o.reduceRight,g=o.filter,m=o.every,b=o.some,w=o.indexOf,x=o.lastIndexOf,S=Array.isArray,_=Object.keys,k=s.bind,E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=E),n._=E):e._=E,E.VERSION="1.4.4";var T=E.each=E.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var a in e)if(E.has(e,a)&&t.call(n,e[a],a,e)===i)return};E.map=E.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(T(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),r)};var C="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),y&&e.reduce===y)return r&&(t=E.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(C);return n},E.reduceRight=E.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),v&&e.reduceRight===v)return r&&(t=E.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=E.keys(e);o=a.length}if(T(e,function(s,u,c){u=a?a[--o]:--o,i?n=t.call(r,n,e[u],u,c):(n=e[u],i=!0)}),!i)throw new TypeError(C);return n},E.find=E.detect=function(e,t,n){var r;return A(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},E.filter=E.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(T(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},E.reject=function(e,t,n){return E.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},E.every=E.all=function(e,t,n){t||(t=E.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,n):(T(e,function(e,o,a){return(r=r&&t.call(n,e,o,a))?void 0:i}),!!r)};var A=E.some=E.any=function(e,t,n){t||(t=E.identity);var r=!1;return null==e?r:b&&e.some===b?e.some(t,n):(T(e,function(e,o,a){return r||(r=t.call(n,e,o,a))?i:void 0}),!!r)};E.contains=E.include=function(e,t){return null!=e&&(w&&e.indexOf===w?-1!=e.indexOf(t):A(e,function(e){return e===t}))},E.invoke=function(e,t){var n=c.call(arguments,2),r=E.isFunction(t);return E.map(e,function(e){return(r?t:e[t]).apply(e,n)})},E.pluck=function(e,t){return E.map(e,function(e){return e[t]})},E.where=function(e,t,n){return E.isEmpty(t)?n?null:[]:E[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},E.findWhere=function(e,t){return E.where(e,t,!0)},E.max=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&E.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},E.min=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&E.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={value:e,computed:a})}),r.value},E.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=E.random(n++),r[n-1]=r[t],r[t]=e}),r};var O=function(e){return E.isFunction(e)?e:function(t){return t[e]}};E.sortBy=function(e,t,n){var r=O(t);return E.pluck(E.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var j=function(e,t,n,r){var i={},o=O(t||E.identity);return T(e,function(t,a){var s=o.call(n,t,a,e);r(i,s,t)}),i};E.groupBy=function(e,t,n){return j(e,t,n,function(e,t,n){(E.has(e,t)?e[t]:e[t]=[]).push(n)})},E.countBy=function(e,t,n){return j(e,t,n,function(e,t){E.has(e,t)||(e[t]=0),e[t]++})},E.sortedIndex=function(e,t,n,r){for(var i=(n=null==n?E.identity:O(n)).call(r,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},E.toArray=function(e){return e?E.isArray(e)?c.call(e):e.length===+e.length?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:e.length===+e.length?e.length:E.keys(e).length},E.first=E.head=E.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:c.call(e,0,t)},E.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},E.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},E.rest=E.tail=E.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var N=function(e,t,n){return T(e,function(e){E.isArray(e)?t?u.apply(n,e):N(e,t,n):n.push(e)}),n};E.flatten=function(e,t){return N(e,t,[])},E.without=function(e){return E.difference(e,c.call(arguments,1))},E.uniq=E.unique=function(e,t,n,r){E.isFunction(t)&&(r=n,n=t,t=!1);var i=n?E.map(e,n,r):e,o=[],a=[];return T(i,function(n,r){(t?r&&a[a.length-1]===n:E.contains(a,n))||(a.push(n),o.push(e[r]))}),o},E.union=function(){return E.uniq(l.apply(o,arguments))},E.intersection=function(e){var t=c.call(arguments,1);return E.filter(E.uniq(e),function(e){return E.every(t,function(t){return E.indexOf(t,e)>=0})})},E.difference=function(e){var t=l.apply(o,c.call(arguments,1));return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){for(var e=c.call(arguments),t=E.max(E.pluck(e,"length")),n=new Array(t),r=0;t>r;r++)n[r]=E.pluck(e,""+r);return n},E.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},E.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return e[r=E.sortedIndex(e,t)]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&e.indexOf===w)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},E.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(x&&e.lastIndexOf===x)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},E.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);r>i;)o[i++]=e,e+=n;return o},E.bind=function(e,t){if(e.bind===k&&k)return k.apply(e,c.call(arguments,1));var n=c.call(arguments,2);return function(){return e.apply(t,n.concat(c.call(arguments)))}},E.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},E.bindAll=function(e){var t=c.call(arguments,1);return 0===t.length&&(t=E.functions(e)),T(t,function(t){e[t]=E.bind(e[t],e)}),e},E.memoize=function(e,t){var n={};return t||(t=E.identity),function(){var r=t.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},E.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=function(e){return E.delay.apply(E,[e,1].concat(c.call(arguments,1)))},E.throttle=function(e,t){var n,r,i,o,a=0,s=function(){a=new Date,i=null,o=e.apply(n,r)};return function(){var u=new Date,c=t-(u-a);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,a=u,o=e.apply(n,r)):i||(i=setTimeout(s,c)),o}},E.debounce=function(e,t,n){var r,i;return function(){var o=this,a=arguments,s=n&&!r;return clearTimeout(r),r=setTimeout(function(){r=null,n||(i=e.apply(o,a))},t),s&&(i=e.apply(o,a)),i}},E.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},E.wrap=function(e,t){return function(){var n=[e];return u.apply(n,arguments),t.apply(this,n)}},E.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},E.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},E.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)E.has(e,n)&&(t[t.length]=n);return t},E.values=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push(e[n]);return t},E.pairs=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push([n,e[n]]);return t},E.invert=function(e){var t={};for(var n in e)E.has(e,n)&&(t[e[n]]=n);return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=function(e){return T(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},E.pick=function(e){var t={},n=l.apply(o,c.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},E.omit=function(e){var t={},n=l.apply(o,c.call(arguments,1));for(var r in e)E.contains(n,r)||(t[r]=e[r]);return t},E.defaults=function(e){return T(c.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==i){if(s=(a=e.length)==t.length)for(;a--&&(s=I(e[a],t[a],n,r)););}else{var u=e.constructor,c=t.constructor;if(u!==c&&!(E.isFunction(u)&&u instanceof u&&E.isFunction(c)&&c instanceof c))return!1;for(var l in e)if(E.has(e,l)&&(a++,!(s=E.has(t,l)&&I(e[l],t[l],n,r))))break;if(s){for(l in t)if(E.has(t,l)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};E.isEqual=function(e,t){return I(e,t,[],[])},E.isEmpty=function(e){if(null==e)return!0;if(E.isArray(e)||E.isString(e))return 0===e.length;for(var t in e)if(E.has(e,t))return!1;return!0},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=S||function(e){return"[object Array]"==f.call(e)},E.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){E["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return!(!e||!E.has(e,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(e){return"function"==typeof e}),E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!=+e},E.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==f.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return p.call(e,t)},E.noConflict=function(){return e._=r,this},E.identity=function(e){return e},E.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};D.unescape=E.invert(D.escape);var P={escape:new RegExp("["+E.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(D.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(e){E[e]=function(t){return null==t?"":(""+t).replace(P[e],function(t){return D[e][t]})}}),E.result=function(e,t){if(null==e)return null;var n=e[t];return E.isFunction(n)?n.call(e):n},E.mixin=function(e){T(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),F.call(this,n.apply(E,e))}})};var R=0;E.uniqueId=function(e){var t=++R+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(e,t,n){var r;n=E.defaults({},n,E.templateSettings);var i=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(B,function(e){return"\\"+M[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}if(t)return r(t,E);var s=function(e){return r.call(this,e,E)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},E.chain=function(e){return E(e).chain()};var F=function(e){return this._chain?E(e).chain():e};E.mixin(E),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=o[e];E.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}]},{},[7])(7)}),function(e,t){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(exports=module.exports=t(e,exports)):"function"==typeof define&&define.amd?define(["exports"],function(n){e.Lockr=t(e,n)}):e.Lockr=t(e,{})}(this,function(e,t){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(0>(n=0>n?Math.ceil(n):Math.floor(n))&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),t.prefix="",t._getPrefixedKey=function(e,t){return(t=t||{}).noPrefix?e:this.prefix+e},t.set=function(e,t,n){var r=this._getPrefixedKey(e,n);try{localStorage.setItem(r,JSON.stringify({data:t}))}catch(n){console&&console.warn("Lockr didn't successfully save the '{"+e+": "+t+"}' pair, because the localStorage is full.")}},t.get=function(e,t,n){var r,i=this._getPrefixedKey(e,n);try{r=JSON.parse(localStorage.getItem(i))}catch(t){try{r=localStorage[i]?JSON.parse('{"data":"'+localStorage.getItem(i)+'"}'):null}catch(t){console&&console.warn("Lockr could not load the item with key "+e)}}return null===r?t:void 0!==r.data?r.data:t},t.sadd=function(e,n,r){var i,o=this._getPrefixedKey(e,r),a=t.smembers(e);if(a.indexOf(n)>-1)return null;try{a.push(n),i=JSON.stringify({data:a}),localStorage.setItem(o,i)}catch(t){console.log(t),console&&console.warn("Lockr didn't successfully add the "+n+" to "+e+" set, because the localStorage is full.")}},t.smembers=function(e,t){var n,r=this._getPrefixedKey(e,t);try{n=JSON.parse(localStorage.getItem(r))}catch(e){n=null}return null===n?[]:n.data||[]},t.sismember=function(e,n,r){return this._getPrefixedKey(e,r),t.smembers(e).indexOf(n)>-1},t.getAll=function(){return Object.keys(localStorage).map(function(e){return t.get(e)})},t.srem=function(e,n,r){var i,o,a=this._getPrefixedKey(e,r),s=t.smembers(e,n);(o=s.indexOf(n))>-1&&s.splice(o,1),i=JSON.stringify({data:s});try{localStorage.setItem(a,i)}catch(t){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+e)}},t.rm=function(e){localStorage.removeItem(e)},t.flush=function(){localStorage.clear()},t});var LZString=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(n){return i(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach(function(t){a.push(e(t))}),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(t){return i(n,e.charAt(t))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",c="",l="",f=2,p=3,h=2,d=[],y=0,v=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=p++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)y<<=1,v==t-1?(v=0,d.push(n(y)),y=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}else{for(i=1,r=0;r<h;r++)y=y<<1|i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;0==--f&&(f=Math.pow(2,h),h++),a[c]=p++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)y<<=1,v==t-1?(v=0,d.push(n(y)),y=0):v++;for(i=l.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}else{for(i=1,r=0;r<h;r++)y=y<<1|i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=a[l],r=0;r<h;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(i=2,r=0;r<h;r++)y=y<<1|1&i,v==t-1?(v=0,d.push(n(y)),y=0):v++,i>>=1;for(;;){if(y<<=1,v==t-1){d.push(n(y));break}v++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var i,o,a,s,u,c,l,f=[],p=4,h=4,d=3,y="",v=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;for(a=0,u=Math.pow(2,2),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=e(a);break;case 2:return""}for(f[3]=l,o=l,v.push(l);;){if(g.index>t)return"";for(a=0,u=Math.pow(2,d),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(l=a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;f[h++]=e(a),l=h-1,p--;break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*c,c<<=1;f[h++]=e(a),l=h-1,p--;break;case 2:return v.join("")}if(0==p&&(p=Math.pow(2,d),d++),f[l])y=f[l];else{if(l!==h)return null;y=o+o.charAt(0)}v.push(y),f[h++]=o+y.charAt(0),o=y,0==--p&&(p=Math.pow(2,d),d++)}}};return o}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function t(n){return function(n,r){var i,o,a,s,u,c,l,f,p,h=1,d=n.length,y="";for(o=0;o<d;o++)if("string"==typeof n[o])y+=n[o];else if(Array.isArray(n[o])){if((s=n[o])[2])for(i=r[h],a=0;a<s[2].length;a++){if(!i.hasOwnProperty(s[2][a]))throw new Error(t('[sprintf] property "%s" does not exist',s[2][a]));i=i[s[2][a]]}else i=s[1]?r[s[1]]:r[h++];if(e.not_type.test(s[8])&&e.not_primitive.test(s[8])&&i instanceof Function&&(i=i()),e.numeric_arg.test(s[8])&&"number"!=typeof i&&isNaN(i))throw new TypeError(t("[sprintf] expecting number but found %T",i));switch(e.number.test(s[8])&&(f=i>=0),s[8]){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,s[6]?parseInt(s[6]):0);break;case"e":i=s[7]?parseFloat(i).toExponential(s[7]):parseFloat(i).toExponential();break;case"f":i=s[7]?parseFloat(i).toFixed(s[7]):parseFloat(i);break;case"g":i=s[7]?String(Number(i.toPrecision(s[7]))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=s[7]?i.substring(0,s[7]):i;break;case"t":i=String(!!i),i=s[7]?i.substring(0,s[7]):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=s[7]?i.substring(0,s[7]):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=s[7]?i.substring(0,s[7]):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}e.json.test(s[8])?y+=i:(!e.number.test(s[8])||f&&!s[3]?p="":(p=f?"+":"-",i=i.toString().replace(e.sign,"")),c=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",l=s[6]-(p+i).length,u=s[6]&&l>0?c.repeat(l):"",y+=s[5]?p+i+u:"0"===c?p+u+i:u+p+i)}return y}(function(t){if(r[t])return r[t];var n,i=t,o=[],a=0;for(;i;){if(null!==(n=e.text.exec(i)))o.push(n[0]);else if(null!==(n=e.modulo.exec(i)))o.push("%");else{if(null===(n=e.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var s=[],u=n[2],c=[];if(null===(c=e.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(u=u.substring(c[0].length));)if(null!==(c=e.key_access.exec(u)))s.push(c[1]);else{if(null===(c=e.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}n[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push(n)}i=i.substring(n[0].length)}return r[t]=o}(n),arguments)}function n(e,n){return t.apply(null,[e].concat(n||[]))}var r=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=t,exports.vsprintf=n),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=n,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:n}}))}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PointerEventsPolyfill=t()}(this,function(){"use strict";function e(e,t){t=t||Object.create(null);var n=document.createEvent("Event");n.initEvent(e,t.bubbles||!1,t.cancelable||!1);for(var r,i=2;i<c.length;i++)n[r=c[i]]=t[r]||l[i];n.buttons=t.buttons||0;var o;return o=t.pressure&&n.buttons?t.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=t.pointerId||0,n.width=t.width||0,n.height=t.height||0,n.pressure=o,n.tiltX=t.tiltX||0,n.tiltY=t.tiltY||0,n.twist=t.twist||0,n.tangentialPressure=t.tangentialPressure||0,n.pointerType=t.pointerType||"",n.hwTimestamp=t.hwTimestamp||0,n.isPrimary=t.isPrimary||!1,n}function t(){this.array=[],this.size=0}function n(e,t,n,r){this.addCallback=e.bind(r),this.removeCallback=t.bind(r),this.changedCallback=n.bind(r),S&&(this.observer=new S(this.mutationWatcher.bind(this)))}function r(e){return"body /shadow-deep/ "+i(e)}function i(e){return'[touch-action="'+e+'"]'}function o(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}function a(e){if(!v.pointermap.has(e)){var t=new Error("InvalidPointerId");throw t.name="InvalidPointerId",t}}function s(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function u(e){return 0!==v.pointermap.get(e).buttons}var c=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],l=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],f=window.Map&&window.Map.prototype.forEach?Map:t;t.prototype={set:function(e,t){return void 0===t?this.delete(e):(this.has(e)||this.size++,void(this.array[e]=t))},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach(function(n,r){e.call(t,n,r,this)},this)}};var p=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],h=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],d={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},y="undefined"!=typeof SVGElementInstance,v={pointermap:new f,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,r=n.events;r&&(r.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,r=0;r<n&&(t=this.eventSourceList[r]);r++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(t,n){this.captureInfo[n.pointerId]&&(n.relatedTarget=null);var r=new e(t,n);return n.preventDefault&&(r.preventDefault=n.preventDefault),r._target=r._target||n.target,r},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),r=0;r<p.length;r++)n[t=p[r]]=e[t]||h[r],!y||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in d?void 0:t:e._target},propagate:function(e,t,n){for(var r=e.target,i=[];r!==document&&!r.contains(e.relatedTarget);)if(i.push(r),!(r=r.parentNode))return;n&&i.reverse(),i.forEach(function(n){e.target=n,t.call(this,e)},this)},setCapture:function(t,n,r){this.captureInfo[t]&&this.releaseCapture(t,r),this.captureInfo[t]=n,this.implicitRelease=this.releaseCapture.bind(this,t,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new e("gotpointercapture");i.pointerId=t,i._target=n,r||this.asyncDispatchEvent(i)},releaseCapture:function(t,n){var r=this.captureInfo[t];if(r){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new e("lostpointercapture");i.pointerId=t,i._target=r,n||this.asyncDispatchEvent(i)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};v.boundHandler=v.eventHandler.bind(v);var g={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var r,i,o=e.elementFromPoint(t,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(t,n)){var a=this.targetingShadow(r);return this.searchRoot(a,t,n)||r}i=this.olderShadow(i)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,r=this.owner(e.target);return r.elementFromPoint(t,n)||(r=document),this.searchRoot(r,t,n)}},m=Array.prototype.forEach.call.bind(Array.prototype.forEach),b=Array.prototype.map.call.bind(Array.prototype.map),w=Array.prototype.slice.call.bind(Array.prototype.slice),x=Array.prototype.filter.call.bind(Array.prototype.filter),S=window.MutationObserver||window.WebKitMutationObserver,_={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};n.prototype={watchSubtree:function(e){this.observer&&g.canTarget(e)&&this.observer.observe(e,_)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){m(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(w(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=b(e,this.findElements,this);return t.push(x(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var k=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",T=window.PointerEvent||window.MSPointerEvent,C=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,A=v.pointermap,O=[1,4,2,8,16],j=!1;try{j=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var N,I={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){v.listen(e,this.events)},unregister:function(e){v.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,r=e.clientX,i=e.clientY,o=0,a=n.length;o<a&&(t=n[o]);o++){var s=Math.abs(r-t.x),u=Math.abs(i-t.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(e){var t=v.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=A.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=A.get(this.POINTER_ID),n=this.prepareEvent(e);j||(n.buttons=O[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),A.set(this.POINTER_ID,e),t&&0!==t.buttons?v.move(n):v.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);j||this.prepareButtonsForMove(t,e),t.button=-1,A.set(this.POINTER_ID,e),v.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=A.get(this.POINTER_ID),n=this.prepareEvent(e);if(!j){var r=O[n.button];n.buttons=t?t.buttons&~r:0,e.buttons=n.buttons}A.set(this.POINTER_ID,e),n.buttons&=~O[n.button],0===n.buttons?v.up(n):v.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);j||this.prepareButtonsForMove(t,e),t.button=-1,A.set(this.POINTER_ID,e),v.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);j||this.prepareButtonsForMove(t,e),t.button=-1,v.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);v.cancel(t),this.deactivateMouse()},deactivateMouse:function(){A.delete(this.POINTER_ID)}},D=v.captureInfo,P=g.findTarget.bind(g),R=g.allShadows.bind(g),L=v.pointermap,M="touch-action",B={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){N.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute(M),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,v.listen(e,this.events),R(e).forEach(function(e){e._scrollType=n,v.listen(e,this.events)},this))},elementRemoved:function(e){e._scrollType=void 0,v.unlisten(e,this.events),R(e).forEach(function(e){e._scrollType=void 0,v.unlisten(e,this.events)},this)},elementChanged:function(e,t){var n=e.getAttribute(M),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(t);r&&i?(e._scrollType=r,R(e).forEach(function(e){e._scrollType=r},this)):i?this.elementRemoved(e):r&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===L.size||1===L.size&&L.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=v.cloneEvent(e),r=n.pointerId=e.identifier+2;n.target=D[r]||P(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=2*(e.radiusX||e.webkitRadiusX||0),n.height=2*(e.radiusY||e.webkitRadiusY||0),n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var r,i=0;i<n.length;i++)r=n[i],t.call(this,this.touchToPointer(r))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var r=e.changedTouches[0],i=n,o="Y"===n?"X":"Y";t=Math.abs(r["client"+i]-this.firstXY[i])>=Math.abs(r["client"+o]-this.firstXY[o])}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,r=0,i=e.length;r<i&&(n=e[r]);r++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(L.size>=t.length){var n=[];L.forEach(function(e,r){if(1!==r&&!this.findTouch(t,r-2)){var i=e.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){L.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),v.enterOver(e),v.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=L.get(t.pointerId);if(n){var r=n.out,i=n.outTarget;v.move(t),r&&i!==t.target&&(r.relatedTarget=t.target,t.relatedTarget=i,r.target=i,t.target?(v.leaveOut(r),v.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(v.up(e),v.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){v.cancel(e),v.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){L.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=I.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};t.push(r);var i=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,r);setTimeout(i,2500)}}};N=new n(B.elementAdded,B.elementRemoved,B.elementChanged,B);var F,q,$,H=v.pointermap,z=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,U={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){v.listen(e,this.events)},unregister:function(e){v.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return z&&((t=v.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){H.delete(e)},MSPointerDown:function(e){H.set(e.pointerId,e);var t=this.prepareEvent(e);v.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);v.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);v.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);v.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);v.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);v.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=v.makeEvent("lostpointercapture",e);v.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=v.makeEvent("gotpointercapture",e);v.dispatchEvent(t)}};return window.navigator.msPointerEnabled?(F=function(e){a(e),s(this),u(e)&&(v.setCapture(e,this,!0),this.msSetPointerCapture(e))},q=function(e){a(e),v.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(F=function(e){a(e),s(this),u(e)&&v.setCapture(e,this)},q=function(e){a(e),v.releaseCapture(e)}),$=function(e){return!!v.captureInfo[e]},function(){if(T){k.forEach(function(e){String(e)===e?(E+=i(e)+o(e)+"\n",C&&(E+=r(e)+o(e)+"\n")):(E+=e.selectors.map(i)+o(e.rule)+"\n",C&&(E+=e.selectors.map(r)+o(e.rule)+"\n"))});var e=document.createElement("style");e.textContent=E,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=e,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),v.registerSource("ms",U)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),v.registerSource("mouse",I),void 0!==window.ontouchstart&&v.registerSource("touch",B);v.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:F},releasePointerCapture:{value:q},hasPointerCapture:{value:$}}),{dispatcher:v,Installer:n,PointerEvent:e,PointerMap:f,targetFinding:g}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function i(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function o(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(e){return"boolean"==typeof S?k.resolve(S):(t=e,new k(function(e){var n=t.transaction(E,A),i=r([""]);n.objectStore(E).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})).then(function(e){return S=e});var t}function u(e){var t=_[e.name],n={};n.promise=new k(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function c(e,t){return new k(function(n,r){if(e.db){if(!t)return n(e.db);u(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=x.open.apply(x,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(E)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t;n(o.result),(t=_[e.name].deferredOperations.pop())&&t.resolve()}})}function l(e){return r([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function f(e){return e&&e.__local_forage_encoded_blob}function p(e){var t=this,n=t._initReady().then(function(){var e=_[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return o(n,e,e),n}function h(e){u(e);for(var t=_[e.name].forages,n=0;n<t.length;n++)t[n]._dbInfo.db&&(t[n]._dbInfo.db.close(),t[n]._dbInfo.db=null);return c(e,!1).then(function(e){for(var n=0;n<t.length;n++)t[n]._dbInfo.db=e}).catch(function(t){throw n=t,(r=_[e.name].deferredOperations.pop())&&r.reject(n),t;var n,r})}function d(e,t,n){try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(!e.db||"InvalidStateError"===r.name)return h(e).then(function(){var r=e.db.transaction(e.storeName,t);n(null,r)});n(r)}}function y(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=j.indexOf(e[t]),r=j.indexOf(e[t+1]),i=j.indexOf(e[t+2]),o=j.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function v(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=j[n[t]>>2],r+=j[(3&n[t])<<4|n[t+1]>>4],r+=j[(15&n[t+1])<<2|n[t+2]>>6],r+=j[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function g(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}function m(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function b(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(J(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e("lie/polyfill");var S,_,k=Promise,E="local-forage-detect-blob-support",T=Object.prototype.toString,C="readonly",A="readwrite",O={_driver:"asyncStorage",_initStorage:function(e){function t(){return k.resolve()}var n=this,r={db:null};if(e)for(var i in e)r[i]=e[i];_||(_={});var o=_[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},_[r.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=p);for(var a=[],s=0;s<o.forages.length;s++){var u=o.forages[s];u!==n&&a.push(u._initReady().catch(t))}var l=o.forages.slice(0);return k.all(a).then(function(){return r.db=o.db,c(r,!1)}).then(function(e){return r.db=e,function(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}(r,n._defaultConfig.version)?c(r,!0):e}).then(function(e){r.db=o.db=e,n._dbInfo=r;for(var t=0;t<l.length;t++){var i=l[t];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})},_support:function(){try{if(!x)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new k(function(t,r){n.ready().then(function(){d(n._dbInfo,C,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;f(r)&&(r=l(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=new k(function(t,r){n.ready().then(function(){d(n._dbInfo,C,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),f(e)&&(e=l(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r},setItem:function(e,t,n){var r=this;e=a(e);var o=new k(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===T.call(t)?s(o.db).then(function(e){return e?t:(n=t,new k(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):t}).then(function(t){d(r._dbInfo,A,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return i(o,n),o},removeItem:function(e,t){var n=this;e=a(e);var r=new k(function(t,r){n.ready().then(function(){d(n._dbInfo,A,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r},clear:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){d(t._dbInfo,A,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n},length:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){d(t._dbInfo,C,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n},key:function(e,t){var n=this,r=new k(function(t,r){e<0?t(null):n.ready().then(function(){d(n._dbInfo,C,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r},keys:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){d(t._dbInfo,C,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="~~local_forage_type~",I=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",P=D.length,R="arbf",L="blob",M="si08",B="ui08",F="uic8",q="si16",$="si32",H="ur16",z="ui32",U="fl32",W="fl64",K=P+R.length,X=Object.prototype.toString,Y={serialize:function(e,t){var n="";if(e&&(n=X.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===X.call(e.buffer))){var r,i=D;e instanceof ArrayBuffer?(r=e,i+=R):(r=e.buffer,"[object Int8Array]"===n?i+=M:"[object Uint8Array]"===n?i+=B:"[object Uint8ClampedArray]"===n?i+=F:"[object Int16Array]"===n?i+=q:"[object Uint16Array]"===n?i+=H:"[object Int32Array]"===n?i+=$:"[object Uint32Array]"===n?i+=z:"[object Float32Array]"===n?i+=U:"[object Float64Array]"===n?i+=W:t(new Error("Failed to get type for BinaryArray"))),t(i+v(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=N+e.type+"~"+v(this.result);t(D+L+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,P)!==D)return JSON.parse(e);var t,n=e.substring(K),i=e.substring(P,K);if(i===L&&I.test(n)){var o=n.match(I);t=o[1],n=n.substring(o[0].length)}var a=y(n);switch(i){case R:return a;case L:return r([a],{type:t});case M:return new Int8Array(a);case B:return new Uint8Array(a);case F:return new Uint8ClampedArray(a);case q:return new Int16Array(a);case H:return new Uint16Array(a);case $:return new Int32Array(a);case z:return new Uint32Array(a);case U:return new Float32Array(a);case W:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:y,bufferToString:v},V={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new k(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){r(t)})})});return n.serializer=Y,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new k(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=new k(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r},setItem:function(e,t,n){return function e(t,n,r,o){var s=this;t=a(t);var u=new k(function(i,a){s.ready().then(function(){void 0===n&&(n=null);var u=n,c=s._dbInfo;c.serializer.serialize(n,function(n,l){l?a(l):c.db.transaction(function(e){e.executeSql("INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){i(u)},function(e,t){a(t)})},function(n){if(n.code===n.QUOTA_ERR){if(o>0)return void i(e.apply(s,[t,u,r,o-1]));a(n)}})})}).catch(a)});return i(u,r),u}.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=a(e);var r=new k(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r},clear:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return i(n,e),n},length:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n},key:function(e,t){var n=this,r=new k(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r},keys:function(e){var t=this,n=new k(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}},G={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=t.name+"/",t.storeName!==this._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),g()?(this._dbInfo=t,t.serializer=Y,k.resolve()):k.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&"function"==typeof localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),a++)))return c}}});return i(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return i(r,t),r},setItem:function(e,t,n){var r=this;e=a(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new k(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return i(o,n),o},removeItem:function(e,t){var n=this;e=a(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return i(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return i(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return i(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return i(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return i(n,e),n}},J=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q={},Z={},ee={INDEXEDDB:O,WEBSQL:V,LOCALSTORAGE:G},te=[ee.INDEXEDDB._driver,ee.WEBSQL._driver,ee.LOCALSTORAGE._driver],ne=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],re={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ie=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee)if(ee.hasOwnProperty(n)){var r=ee[n],i=r._driver;this[n]=i,Q[i]||this.defineDriver(r)}this._defaultConfig=b({},re),this._config=b({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":w(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new k(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=ne.concat("_initStorage"),a=0,s=o.length;a<s;a++){var u=o[a];if(!u||!e[u]||"function"!=typeof e[u])return void n(i)}var c=function(n){Q[r]&&console.info("Redefining LocalForage driver: "+r),Q[r]=e,Z[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(c,n):c(!!e._support):c(!0)}catch(e){n(e)}});return o(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Q[e]?k.resolve(Q[e]):k.reject(new Error("Driver not found."));return o(r,t,n),r},e.prototype.getSerializer=function(e){var t=k.resolve(Y);return o(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return o(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){a._config.driver=a.driver()}function i(e){return a._extend(e),r(),a._ready=a._initStorage(a._config),a._ready}var a=this;J(e)||(e=[e]);var s=this._getSupportedDrivers(e),u=null!==this._driverSet?this._driverSet.catch(function(){return k.resolve()}):k.resolve();return this._driverSet=u.then(function(){var e=s[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){var t;a._driver=e._driver,r(),a._wrapLibraryMethodsWithReady(),a._initDriver=(t=s,function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,a._dbInfo=null,a._ready=null,a.getDriver(o).then(i).catch(n)}r();var s=new Error("No available storage method found.");return a._driverSet=k.reject(s),a._driverSet}()})})}).catch(function(){r();var e=new Error("No available storage method found.");return a._driverSet=k.reject(e),a._driverSet}),o(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Z[e]},e.prototype._extend=function(e){b(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ne.length;e<t;e++)m(this,ne[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ie},{undefined:void 0}]},{},[1])(1)});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():window.KC=t()}(0,function(){var e={lang:"zh_cn",joint:"・",maxShipLv:165,maxHqLv:120,db:{},path:{db:"/kcdb/",pics:{ships:"/kcpic/ships/"}},statSpeed:{5:"低速",10:"高速",15:"高速+",20:"最速"},getStatSpeed:function(e){return this.statSpeed[parseInt(e)]},statRange:{1:"短",2:"中",3:"长",4:"超长"},getStatRange:function(e){return this.statRange[parseInt(e)]},textRank:{1:"|",2:"||",3:"|||",4:"\\",5:"\\\\",6:"\\\\\\",7:"》"}},t=function(){function t(e){for(var n in _classCallCheck(this,t),e)this[n]=e[n]}return _createClass(t,[{key:"getName",value:function(t){return t=t||e.lang,this.name?this.name[t]||this.name:null}},{key:"isName",value:function(t,n){if(!0===n&&(n=e.lang),n)return this.name[n]===t;for(var r in this.name)if("suffix"!==r&&this.name[r]===t)return!0;return!1}},{key:"hasName",value:function(t,n){if(!0===n&&(n=e.lang),n)return!!this.name[n].includes(t);for(var r in this.name)if("suffix"!==r&&this.name[r].includes(t))return!0;return!1}},{key:"isNameOf",value:function(){return this.hasName.apply(this,arguments)}},{key:"_name",get:function(){return this.getName()}}]),t}(),n=function(e){function n(e){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return _inherits(n,t),n}(),r=function(n){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return Object.defineProperty(t,"rankupgradable",{value:t.isRankUpgradable()}),t}return _inherits(r,t),_createClass(r,[{key:"getName",value:function(n,r){r=r||e.lang;var i=t.prototype.getName.call(this,r),o=n&&1==!n?n:"small";return n?i.replace(/（([^（^）]+)）/g,"<"+o+">($1)</"+o+">"):i}},{key:"getType",value:function(t){return t=t||e.lang,this.type?e.db.item_types[this.type].name[t]:null}},{key:"getIconId",value:function(){return Array.isArray(this.type_ingame)&&this.type_ingame.length>3?this.type_ingame[3]:e.db.item_types[this.type].icon}},{key:"getCaliber",value:function(){var e=this.getName(!1,"ja_jp");return parseFloat(e)}},{key:"getPower",value:function(){return this.stat[e.db.item_types[this.type].main_attribute||"fire"]}},{key:"isEquipableExSlot",value:function(){return this.equipable_exslot?this.equipable_exslot||!1:!!this.type&&(e.db.item_types[this.type].equipable_exslot||!1)}},{key:"isRankUpgradable",value:function(){return c.equipmentType.Aircrafts.includes(this.type)&&this.type!==c.equipmentType.Autogyro&&this.type!==c.equipmentType.AntiSubPatrol}},{key:"getStat",value:function(t,n){t=t.toLowerCase();var r=this.stat[t];if(!n||void 0===r||!Array.isArray(this.stat_bonus))return r;if(n&&Array.isArray(this.stat_bonus)){"object"!==(void 0===n?"undefined":_typeof(n))&&(n=e.db.ships[n]);var i=n.id,o=void 0;if(this.stat_bonus.forEach(function(e){Array.isArray(e.ships)&&e.ships.some(function(t){if(t==i){for(var n in e.bonus)o||(o={}),o[n]=Math.max(e.bonus[n],o[n]||0);return!0}return!1}),Array.isArray(e.ship_classes)&&e.ship_classes.some(function(t){if(t==n.class){for(var r in e.bonus)o||(o={}),o[r]=Math.max(e.bonus[r],o[r]||0);return!0}return!1})}),o)return r+(o[t]||0)}return r}},{key:"_icon",get:function(){return"assets/images/itemicon/"+this.getIconId()+".png"}}]),r}(),i=function(n){function r(e){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return _inherits(r,t),_createClass(r,[{key:"getName",value:function(t,n){t=t||"",n=n||e.lang;var r=this.getSuffix(n);return(this.name[n]||this.name.ja_jp)+(r?(!0===t?e.joint:t)+r:"")}},{key:"getNameNoSuffix",value:function(t){return t=t||e.lang,this.name[t]||this.name.ja_jp}},{key:"getSuffix",value:function(t){return t=t||e.lang,this.name.suffix&&(e.db.ship_namesuffix[this.name.suffix][t]||e.db.ship_namesuffix[this.name.suffix].ja_jp)||""}},{key:"getType",value:function(t){return t=t||e.lang,this.type?e.db.ship_types[this.type].name[t]||e.db.ship_types[this.type].name.ja_jp||"":null}},{key:"getSeriesData",value:function(){return this.series?e.db.ship_series[this.series].ships:[{id:this.id}]}},{key:"getPic",value:function(t,n){var r=this.getSeriesData();t=parseInt(t||0);for(var i=function(t,r){return"undefined"!=typeof node&&node&&node.path&&e.path.pics.ships?node.path.join(e.path.pics.ships,t+"/"+r+"."+(n||"webp")):e.path.pics.ships?e.path.pics.ships+t+"/"+r+"."+(n||"png"):"/"+t+"/"+r+"."+(n||"png")},o=0;o<r.length;o++)if(r[o].id==this.id)switch(t){case 0:case 1:case 2:case 3:case 12:case 13:case 14:return i(this.id,t);default:return r[o].illust_delete?i(r[o-1].id,t):i(this.id,t)}}},{key:"getSpeed",value:function(){return e.statSpeed[parseInt(this.stat.speed)]}},{key:"getSpeedRule",value:function(){return this.speed_rule?this.speed_rule:this.class?e.db.ship_classes[this.class].speed_rule:null}},{key:"getRange",value:function(){return e.statRange[parseInt(this.stat.range)]}},{key:"getEquipmentTypes",value:function(){var t=this.additional_disable_item_types||[];return e.db.ship_types[this.type].equipable.concat(this.additional_item_types||[]).filter(function(e){return t.indexOf(e)<0}).sort(function(e,t){return e-t})}},{key:"getAttribute",value:function(t,n){(n=n||1)>r.lvlMax&&(n=r.lvlMax);var i,o,a,s=void 0;switch(t){case"hp":return s=this.stat.hp,n>99&&((s=this.stat.hp>=90?this.stat.hp+9:this.stat.hp>=70?this.stat.hp+8:this.stat.hp>=50?this.stat.hp+7:this.stat.hp>=40?this.stat.hp+6:this.stat.hp>=30?this.stat.hp+5:this.stat.hp+4)>this.stat.hp_max&&(s=this.stat.hp_max)),s;case"speed":return e.getStatSpeed(this.stat.speed);case"range":return e.getStatRange(this.stat.range);case"luck":return n>99?this.stat.luck+3:this.stat.luck;case"fuel":case"ammo":return n>99?Math.floor(.85*this.consum[t]):this.consum[t];case"aa":case"armor":case"fire":case"torpedo":return this.stat[t+"_max"]||this.stat[t];default:return i=n,o=this.stat[t],a=this.stat[t+"_max"],i=i||1,o=parseFloat(o),a=parseFloat(a)||o,o<0||a<0?-1:o==a?a:Math.floor(o+(a-o)*i/99)}}},{key:"getRel",value:function(t){if(t){if(!this.rels[t]&&this.remodel&&this.remodel.prev)for(var n=e.db.ships[this.remodel.prev];n;){if(n.rels&&n.rels[t])return n.rels[t];n=n.remodel&&n.remodel.prev?e.db.ships[n.remodel.prev]:null}return this.rels[t]}return this.rels}},{key:"getCV",value:function(t){var n=this.getRel("cv");if(n)return e.db.entities[n].getName(t||e.lang)}},{key:"getIllustrator",value:function(t){var n=this.getRel("illustrator");if(n)return e.db.entities[n].getName(t||e.lang)}},{key:"getMinLv",value:function(){var e=this,t=this._series,n=void 0;return t.some(function(r,i){return e.id==r.id&&(n=i?t[i-1].next_lvl:1),n}),n}},{key:"getNavy",value:function(){return this.navy?this.navy:this.class&&e.db.ship_classes[this.class].navy||"ijn"}},{key:"getCapability",value:function(e){return e?this.capabilities?this.capabilities[e]:void 0:this.capabilities||{}}},{key:"getStatExtraMax",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e.toLowerCase()){case"hp":var n=this.getAttribute(e,t),r=this.stat.hp_max;return Math.max(0,Math.min(2,r-n));case"asw":return this.stat.asw?9:!!c.shipType.LightCruisers.concat(c.shipType.Destroyers).includes(this.type)&&9;default:return!1}}},{key:"_type",get:function(){return this.getType()}},{key:"_series",get:function(){return this.getSeriesData()}},{key:"_pics",get:function(){for(var e=[],t=0;t<15;t++)e.push(this.getPic(t));return e}},{key:"_speed",get:function(){return this.getSpeed()}},{key:"_speedRule",get:function(){return this.getSpeedRule()}},{key:"_range",get:function(){return this.getRange()}},{key:"_cv",get:function(){return this.getCV()}},{key:"_illustrator",get:function(){return this.getIllustrator()}},{key:"_minLv",get:function(){return this.getMinLv()}},{key:"_navy",get:function(){return this.getNavy()}}]),r}();i.lvlMax=e.maxShipLv;var o=function(e){function n(e){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return _inherits(n,t),n}();e.dbLoad=function(t){return"string"==typeof t?e.dbLoad({type:t}):t.type||t.url?$.ajax({url:t.url||e.path.db+"/"+t.type+".json",dataType:"text",success:function(o){var a=[];t.beforeProcess&&(a=t.beforeProcess(o)),void 0===e.db[t.type]&&(e.db[t.type]={}),a.forEach(function(o){if(o){var a=JSON.parse(o);switch(t.type){case"ships":e.db[t.type][a.id]=new i(a);break;case"items":e.db[t.type][a.id]=new r(a);break;case"entities":e.db[t.type][a.id]=new n(a);break;default:e.db[t.type][a.id]=a}}}),t.success&&t.success(o)},complete:function(e,n){t.complete&&t.complete(e,n)}}):null};var a=function(t){return t instanceof i?t:e.db.ships?e.db.ships[t]:{}},s=function(t){return t instanceof r?t:e.db.equipments?e.db.equipments[t]:e.db.items[t]},u=function(e){var t=e.map(function(e){return e});return t[4]=0,t},c={equipmentType:{SmallCaliber:1,SmallCaliberHigh:2,SmallCaliberAA:3,MediumCaliber:4,LargeCaliber:5,SuperCaliber:6,SecondaryGun:7,SecondaryGunHigh:8,SecondaryGunAA:9,APShell:11,Torpedo:12,SubmarineTorpedo:13,MidgetSubmarine:14,ReconSeaplane:15,ReconSeaplaneNight:16,SeaplaneBomber:17,CarrierFighter:18,TorpedoBomber:19,DiveBomber:20,CarrierRecon:21,Autogyro:22,AntiSubPatrol:23,SmallRadar:24,LargeRadar:25,DepthCharge:26,Sonar:27,LargeSonar:28,AAGun:29,AAGunConcentrated:30,AAFireDirector:31,AviationPersonnel:36,SurfaceShipPersonnel:37,LandingCraft:38,Searchlight:39,CommandFacility:45,LargeFlyingBoat:45,SearchlightLarge:46,SuparRadar:47,CarrierRecon2:50,SeaplaneFighter:51,AmphibiousCraft:52,LandBasedAttacker:53,Interceptor:54,JetBomberFighter:55,JetBomberFighter2:56,TransportMaterial:57,SubmarineEquipment:58,LandBasedFighter:59,CarrierFighterNight:60,TorpedoBomberNight:61,LandBasedAntiSubPatrol:62},shipType:{Carriers:[9,10,11,30,32],LightCruisers:[2,3,21,28],Destroyers:[1,19],Submarines:[13,14]},calcByShip:{},calcByFleet:{},calcByField:{},calc:{}},l=c.equipmentType;return l.MainGuns=[l.SmallCaliber,l.SmallCaliberHigh,l.SmallCaliberAA,l.MediumCaliber,l.LargeCaliber,l.SuperCaliber],l.SmallCalibers=[l.SmallCaliber,l.SmallCaliberHigh,l.SmallCaliberAA],l.MediumCalibers=[l.MediumCaliber],l.LargeCalibers=[l.LargeCaliber,l.SuperCaliber],l.SecondaryGuns=[l.SecondaryGun,l.SecondaryGunHigh,l.SecondaryGunAA],l.APShells=[l.APShell],l.Torpedos=[l.Torpedo,l.SubmarineTorpedo],l.Seaplanes=[l.ReconSeaplane,l.ReconSeaplaneNight,l.SeaplaneBomber,l.SeaplaneFighter],l.Fighters=[l.SeaplaneBomber,l.CarrierFighter,l.CarrierFighterNight,l.TorpedoBomber,l.TorpedoBomberNight,l.DiveBomber,l.SeaplaneFighter,l.LandBasedAttacker,l.Interceptor,l.JetBomberFighter,l.JetBomberFighter2,l.LandBasedFighter],l.Interceptors=[l.Interceptor,l.LandBasedFighter],l.Recons=[l.ReconSeaplane,l.ReconSeaplaneNight,l.CarrierRecon,l.CarrierRecon2,l.LargeFlyingBoat],l.ReconSeaplanes=[l.ReconSeaplane,l.ReconSeaplaneNight],l.SeaplaneRecons=[l.ReconSeaplane,l.ReconSeaplaneNight,l.LargeFlyingBoat],l.SeaplaneBombers=[l.SeaplaneBomber,l.SeaplaneFighter],l.SeaplaneFighters=[l.SeaplaneFighter],l.CarrierFighters=[l.CarrierFighter,l.CarrierFighterNight],l.CarrierRecons=[l.CarrierRecon,l.CarrierRecon2],l.CarrierBased=[l.CarrierFighter,l.CarrierFighterNight,l.TorpedoBomber,l.TorpedoBomberNight,l.DiveBomber,l.CarrierRecon,l.CarrierRecon2,l.JetBomberFighter,l.JetBomberFighter2],l.LandBased=[l.LandBasedAttacker,l.Interceptor,l.JetBomberFighter,l.JetBomberFighter2,l.LandBasedFighter,l.LandBasedAntiSubPatrol],l.TorpedoBombers=[l.TorpedoBomber,l.TorpedoBomberNight],l.DiveBombers=[l.DiveBomber],l.JetBomberFighters=[l.JetBomberFighter,l.JetBomberFighter2],l.Autogyros=[l.Autogyro],l.AntiSubPatrols=[l.AntiSubPatrol,l.LandBasedAntiSubPatrol],l.Aircrafts=[],[].concat(l.Seaplanes).concat(l.Recons).concat(l.CarrierBased).concat(l.Autogyros).concat(l.AntiSubPatrols).concat(l.LandBased).forEach(function(e){l.Aircrafts.indexOf(e)<0&&l.Aircrafts.push(e)}),l.Radars=[l.SmallRadar,l.LargeRadar,l.SuparRadar],l.SmallRadars=[l.SmallRadar],l.LargeRadars=[l.LargeRadar,l.SuparRadar],l.AntiSubmarines=[l.DepthCharge,l.Sonar,l.LargeSonar],l.DepthCharges=[l.DepthCharge],l.Sonars=[l.Sonar,l.LargeSonar],l.AAGuns=[l.AAGun,l.AAGunConcentrated],l.AAFireDirectors=[l.AAFireDirector],l.Searchlights=[l.Searchlight,l.SearchlightLarge],l.AviationPersonnels=[l.AviationPersonnel],l.SurfaceShipPersonnels=[l.SurfaceShipPersonnel],l.LandingCrafts=[l.LandingCraft,l.AmphibiousCraft],l.AmphibiousCrafts=[l.AmphibiousCraft],l.isInterceptor=function(e){return(!(e=s(e)).type_ingame||47!=e.type_ingame[2])&&l.Interceptors.indexOf(e.type)>-1},c.starMultiper={SmallCalibers:{shelling:1,night:1},MediumCalibers:{shelling:1,night:1},LargeCalibers:{shelling:1.5,night:1},SecondaryGuns:{shelling:1,night:1},APShells:{shelling:1,night:1},AAFireDirectors:{shelling:1,night:1},Searchlights:{shelling:1,night:1},AAGuns:{shelling:1,torpedo:1.2},Torpedos:{torpedo:1.2,night:1},DepthCharges:{shelling:.75,antisub:1},Sonars:{shelling:.75,antisub:1},SmallRadars:{los:1.25},LargeRadars:{los:1.4},Seaplanes:{},ReconSeaplanes:{los:1.2},SeaplaneFighters:{fighter:.2},SeaplaneBomber:{los:1.15},CarrierFighters:{fighter:.2},DiveBombers:{fighter:.25,night:1},CarrierRecons:{los:1.2},LandingCrafts:{shelling:1,night:1},Interceptors:{fighter:.2}},c.getStarMultiper=function(e,t){if(!c.starMultiper._init){var n=function(e){l[e]&&l[e].forEach?l[e].forEach(function(t){c.starMultiper[t]=c.starMultiper[e]}):"number"==typeof l[e]&&(c.starMultiper[l[e]]=c.starMultiper[e])};for(var r in c.starMultiper)n(r);c.starMultiper._init=!0}return c.starMultiper[e]&&c.starMultiper[e][t]||0},c.getFighterPowerRankMultiper=function(e,t){e=s(e);var n=[],r={};n[0]=[0,9],n[1]=[10,24],n[2]=[25,39],n[3]=[40,54],n[4]=[55,69],n[5]=[70,84],n[6]=[85,99],n[7]=[100,120],r.CarrierFighter=[0,0,2,5,9,14,14,22],r.SeaplaneBomber=[0,0,1,1,1,3,3,6];var i=n[t],o=0;switch(e.type){case l.CarrierFighter:case l.CarrierFighterNight:case l.Interceptor:case l.SeaplaneFighter:case l.LandBasedFighter:o=r.CarrierFighter[t];break;case l.SeaplaneBomber:o=r.SeaplaneBomber[t]}return{min:Math.sqrt(i[0]/10)+o,max:Math.sqrt(i[1]/10)+o}},c.calculate=function(t,n,o,a,s,f){if(!t||!n)return 0;n instanceof i||(n=e.db.ships[n]);var p,h=0,d={main:0,secondary:0,torpedo:0,torpedoLateModel:0,seaplane:0,apshell:0,radar:0,radarAA:0,radarSurface:0,submarineEquipment:0,carrierFighterNight:0,torpedoBomberNight:0,aviationPersonnelNight:0,surfaceShipPersonnel:0},y=u(n.slot),v=0;switch(o=o.map(function(t){return t?t instanceof r?t:e.db.equipments?e.db.equipments[t]:e.db.items[t]:null})||[],a=a||[],s=s||[],f=f||{},o.forEach(function(e){e&&(l.MainGuns.indexOf(e.type)>-1?d.main+=1:l.SecondaryGuns.indexOf(e.type)>-1?d.secondary+=1:l.Torpedos.indexOf(e.type)>-1?(d.torpedo+=1,e.name.ja_jp.indexOf("後期型")>-1&&(d.torpedoLateModel+=1)):l.Seaplanes.indexOf(e.type)>-1?d.seaplane+=1:l.APShells.indexOf(e.type)>-1?d.apshell+=1:l.Radars.indexOf(e.type)>-1?(d.radar+=1,e.stat.aa&&(d.radarAA+=1),e.stat.hit&&e.stat.hit>=3&&(d.radarSurface+=1)):l.SubmarineEquipment==e.type?d.submarineEquipment+=1:l.AviationPersonnels.indexOf(e.type)>-1?e.name.ja_jp.indexOf("夜間")>-1&&(d.aviationPersonnelNight+=1):l.SurfaceShipPersonnels.indexOf(e.type)>-1&&(d.surfaceShipPersonnel+=1),e.type_ingame&&(45===e.type_ingame[3]?d.carrierFighterNight+=1:46===e.type_ingame[3]&&(d.torpedoBomberNight+=1)))}),t){case"fighterPower":return v=0,y.map(function(e,t){if(o[t]&&l.Fighters.indexOf(o[t].type)>-1&&e){if(v=Math.sqrt(e)*(o[t].getStat("aa",n)||0),l.CarrierFighters.includes(o[t].type))switch(s[t]){case 1:case"1":v+=1;break;case 2:case"2":v+=4;break;case 3:case"3":v+=6;break;case 4:case"4":v+=11;break;case 5:case"5":v+=16;break;case 6:case"6":v+=17;break;case 7:case"7":v+=25}else if(-1==l.Recons.indexOf(o[t].type)){var r=o[t].type==l.SeaplaneBomber?9:3;v+=1==s[t]?1:r/6*(s[t]-1)}h+=Math.floor(v)}}),h;case"fighterPower_v2":return c.calcByShip.fighterPower_v2(n,o,a,s);case"shelling":case"shellingDamage":return c.shipType.Submarines.indexOf(n.type)>-1?"-":(h=c.calcByShip.shellingPower(n,o,a,s))&&h>-1?Math.floor(h):"-";case"torpedo":case"torpedoDamage":return(h=c.calcByShip.torpedoPower(n,o,a,s,p))&&h>-1?Math.floor(h):"-";case"nightBattle":var g=c.calcByShip.nightPower(n,o,a,s,{},d);return g.damage<=0?"-":g.value;case"addHit":return y.map(function(e,t){o[t]&&(h+=o[t].getStat("hit",n)||0)}),h>=0?"+"+h:h;case"addArmor":return y.map(function(e,t){o[t]&&(h+=o[t].getStat("armor",n)||0)}),h;case"addEvasion":return y.map(function(e,t){o[t]&&(h+=o[t].getStat("evasion",n)||0)}),h;case"losPower":return c.calcByShip.losPower(n,o,a,s,f);default:return c.calcByShip[t](n,o,a,s,f)}},c.shellingDamage=function(e,t,n,r){return this.calculate("shellingDamage",e,t,n,r)},c.torpedoDamage=function(e,t,n,r){return this.calculate("torpedoDamage",e,t,n,r)},c.fighterPower=function(e,t,n,r){return this.calculate("fighterPower",e,t,n,r)},c.fighterPower_v2=function(e,t,n,r){return this.calculate("fighterPower_v2",e,t,n,r)},c.nightBattle=function(e,t,n,r){return this.calculate("nightBattle",e,t,n,r)},c.addHit=function(e,t,n,r){return this.calculate("addHit",e,t,n,r)},c.addArmor=function(e,t,n,r){return this.calculate("addArmor",e,t,n,r)},c.addEvasion=function(e,t,n,r){return this.calculate("addEvasion",e,t,n,r)},c.losPower=function(e,t,n,r,i){return this.calculate("losPower",e,t,n,r,i)},c.calc.losPower=function(e){var t=["(Intercept)","DiveBombers","TorpedoBombers","CarrierRecons","SeaplaneRecons","SeaplaneBombers","SmallRadars","LargeRadars","Searchlights","statLos","hqLv"],n={"(Intercept)":0,DiveBombers:1.03745043134563,TorpedoBombers:1.3679056374142,CarrierRecons:1.65940512636315,SeaplaneRecons:2,SeaplaneBombers:1.77886368594467,SmallRadars:1.0045778494921,LargeRadars:.990738063979571,Searchlights:.906965144360512,statLos:1.6841895400986,hqLv:-.614246711531445},r={"(Intercept)":4.66445565766347,DiveBombers:.0965028505325845,TorpedoBombers:.108636184978525,CarrierRecons:.0976055279516298,SeaplaneRecons:.0866229392463539,SeaplaneBombers:.0917722496848294,SmallRadars:.0492773648320346,LargeRadars:.0491221486053861,Searchlights:.0658283797225724,statLos:.0781594211213618,hqLv:.0369222352426548},i={"(Intercept)":{"(Intercept)":1,DiveBombers:-.147020064768061,TorpedoBombers:-.379236131621529,CarrierRecons:-.572858669501918,SeaplaneRecons:-.733913857017495,SeaplaneBombers:-.642621825152428,SmallRadars:-.674829588068364,LargeRadars:-.707418111752863,Searchlights:-.502304601556193,statLos:-.737374218573832,hqLv:-.05071933950163},DiveBombers:{"(Intercept)":-.147020064768061,DiveBombers:1,TorpedoBombers:.288506347076736,CarrierRecons:.365820372770994,SeaplaneRecons:.425744409856409,SeaplaneBombers:.417783698791503,SmallRadars:.409046013184429,LargeRadars:.413855653833994,Searchlights:.308730607324667,statLos:.317984916914851,hqLv:-.386740224500626},TorpedoBombers:{"(Intercept)":-.379236131621529,DiveBombers:.288506347076736,TorpedoBombers:1,CarrierRecons:.482215071254241,SeaplaneRecons:.584455876852325,SeaplaneBombers:.558515133495825,SmallRadars:.547260012897553,LargeRadars:.560437619378443,Searchlights:.437934879351188,statLos:.533934507932748,hqLv:-.405349979885748},CarrierRecons:{"(Intercept)":-.572858669501918,DiveBombers:.365820372770994,TorpedoBombers:.482215071254241,CarrierRecons:1,SeaplaneRecons:.804494553748065,SeaplaneBombers:.75671307047535,SmallRadars:.748420581669228,LargeRadars:.767980338133817,Searchlights:.589651513349878,statLos:.743851348255527,hqLv:-.503544281376776},SeaplaneRecons:{"(Intercept)":-.733913857017495,DiveBombers:.425744409856409,TorpedoBombers:.584455876852325,CarrierRecons:.804494553748065,SeaplaneRecons:1,SeaplaneBombers:.932444440578382,SmallRadars:.923988080549326,LargeRadars:.94904944359066,Searchlights:.727912987329348,statLos:.944434077970518,hqLv:-.614921413821462},SeaplaneBombers:{"(Intercept)":-.642621825152428,DiveBombers:.417783698791503,TorpedoBombers:.558515133495825,CarrierRecons:.75671307047535,SeaplaneRecons:.932444440578382,SeaplaneBombers:1,SmallRadars:.864289865445084,LargeRadars:.886872388674911,Searchlights:.68310647756898,statLos:.88122333327317,hqLv:-.624797255805045},SmallRadars:{"(Intercept)":-.674829588068364,DiveBombers:.409046013184429,TorpedoBombers:.547260012897553,CarrierRecons:.748420581669228,SeaplaneRecons:.923988080549326,SeaplaneBombers:.864289865445084,SmallRadars:1,LargeRadars:.872011318623459,Searchlights:.671926570242336,statLos:.857213501657084,hqLv:-.560018086758868},LargeRadars:{"(Intercept)":-.707418111752863,DiveBombers:.413855653833994,TorpedoBombers:.560437619378443,CarrierRecons:.767980338133817,SeaplaneRecons:.94904944359066,SeaplaneBombers:.886872388674911,SmallRadars:.872011318623459,LargeRadars:1,Searchlights:.690102027588321,statLos:.883771367337743,hqLv:-.561336967269448},Searchlights:{"(Intercept)":-.502304601556193,DiveBombers:.308730607324667,TorpedoBombers:.437934879351188,CarrierRecons:.589651513349878,SeaplaneRecons:.727912987329348,SeaplaneBombers:.68310647756898,SmallRadars:.671926570242336,LargeRadars:.690102027588321,Searchlights:1,statLos:.723228553177704,hqLv:-.518427865593732},statLos:{"(Intercept)":-.737374218573832,DiveBombers:.317984916914851,TorpedoBombers:.533934507932748,CarrierRecons:.743851348255527,SeaplaneRecons:.944434077970518,SeaplaneBombers:.88122333327317,SmallRadars:.857213501657084,LargeRadars:.883771367337743,Searchlights:.723228553177704,statLos:1,hqLv:-.620804120587684},hqLv:{"(Intercept)":-.05071933950163,DiveBombers:-.386740224500626,TorpedoBombers:-.405349979885748,CarrierRecons:-.503544281376776,SeaplaneRecons:-.614921413821462,SeaplaneBombers:-.624797255805045,SmallRadars:-.560018086758868,LargeRadars:-.561336967269448,Searchlights:-.518427865593732,statLos:-.620804120587684,hqLv:1}},o={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:1,hqLv:1};for(var a in e)o[a]=e[a];return function(e){void 0===e["(Intercept)"]&&(e["(Intercept)"]=1),e.hqLv=5*Math.ceil(e.hqLv/5);var o={},a=0,s={},u=0;return t.forEach(function(t){var i=e[t]*n[t];o[t]=i,a+=i,s[t]=e[t]*r[t]}),t.forEach(function(e){t.forEach(function(t){u+=s[e]*s[t]*i[e][t]})}),{x_estimate:o,y_estimate:a,x_std_error:s,y_std_error:u}}(o)},c.calc.los33=function(e){if(e){var t=0,n=0,r={TorpedoBombers:.8,CarrierRecons:1,ReconSeaplane:1.2,ReconSeaplaneNight:1.2,SeaplaneBomber:1.1};return Object.defineProperty(r,"default",{value:.6,enumerable:!1,configurable:!1,writable:!1}),e.equipments.forEach(function(e){if(e.id){var n=s(e.id);if(n.stat.los){var i=r.default,o=e.star||0;for(var a in r){(Array.isArray(l[a])?l[a]:[l[a]]).indexOf(n.type)>-1&&(i=r[a])}t+=i*(n.stat.los+c.getStarMultiper(n.type,"los")*Math.sqrt(o))}}}),e.ships.forEach(function(e){var t=a(e.id),r=t.getAttribute("los",Math.max(e.lv||1,t.getMinLv()));n+=Math.sqrt(Math.max(r,1))}),t+n-Math.ceil(.4*e.hq)+2*(6-e.ships.length)}},c.calc.TP=function(e){var t=0,n=(e=e||{}).ship||{},r=e.equipment||{};for(var i in n){var o=0;switch(i){case 1:case"1":case 19:case"19":case"dd":o=5;break;case 2:case"2":case 28:case"28":case"cl":o=2;break;case 21:case"21":case"ct":o=6;break;case 5:case"5":case"cav":o=4;break;case 8:case"8":case"bbv":o=7;break;case 12:case"12":case 24:case"24":case"av":o=9.5;break;case 14:case"14":case"ssv":o=1;break;case 15:case"15":case"lha":o=12;break;case 29:case"29":case"ao":o=15;break;case 17:case"17":case"as":o=7}t+=o*(parseInt(n[i])||0)}for(var a in r){var u=0,l=parseInt(a),f=void 0;switch(l){case 145:case 150:u=1;break;case 75:u=5;break;case 68:case 193:case 166:u=8;break;case 167:u=2;break;default:switch((f=s(l)).type){case c.equipmentType.LandingCraft:f.name.ja_jp.indexOf("大発動艇")>-1&&(u=8)}}t+=u*(parseInt(r[a])||0)}return t},c.calc.fighterPower=function(t,n,i,o){if(!t)return[0,0];t=t instanceof r?t:e.db.equipments?e.db.equipments[t]:e.db.items[t],n=n||0,i=i||0,o=o||0;var a=[0,0];if(l.Fighters.indexOf(t.type)>-1&&n){var s=((t.stat.aa||0)+(l.isInterceptor(t)?1.5*t.stat.evasion:0)+o*c.getStarMultiper(t.type,"fighter"))*Math.sqrt(n),u=c.getFighterPowerRankMultiper(t,i);a[0]+=Math.floor(s+u.min),a[1]+=Math.floor(s+u.max)}return a},c.calc.fighterPowerAA=function(e,t,n,r){if(!e)return[0,0];e=s(e),n=n||0,r=r||0;var i=[0,0];if(t=t||0){var o=((e.stat.aa||0)+(l.isInterceptor(e)?e.stat.evasion:0)+(l.isInterceptor(e)?2*e.stat.hit:0)+r*c.getStarMultiper(e.type,"fighter"))*Math.sqrt(t),a=c.getFighterPowerRankMultiper(e,n,{isAA:!0});i[0]+=Math.floor(o+a.min),i[1]+=Math.floor(o+a.max)}return i},c.calcByShip.shellingPower=function(e,t,n,r,i){i=i||{};var o=0,a=!1,s=u(e.slot);if(c.shipType.Carriers.indexOf(e.type)>-1?a=!0:t.some(function(e){if(e&&!a&&l.CarrierBased.indexOf(e.type)>-1)return a=!0,!0}),a&&!i.isNight){var f=0,p=0;return s.map(function(r,i){if(t[i]){var a=t[i];o+=1.5*a.getStat("fire",e)||0,l.TorpedoBombers.indexOf(a.type)>-1&&(f+=a.getStat("torpedo",e)||0),p+=a.getStat("bomb",e)||0,l.SecondaryGuns.indexOf(a.type)>-1&&(o+=Math.sqrt(1.5*(n[i]||0)))}}),f||p?o+=Math.floor(1.5*(Math.floor(1.3*p)+f+e.stat.fire_max))+50:-1}o=e.stat.fire_max||0;var h={CLMainGunNaval:0,CLMainGunTwin:0,ItalianCAMainGun:0};s.map(function(r,a){if(t[a]){var s=t[a];o+=s.getStat("fire",e)||0,c.shipType.LightCruisers.indexOf(e.type)>-1&&(["14cm単装砲","15.2cm単装砲"].forEach(function(e){s.name.ja_jp.includes(e)&&(h.CLMainGunNaval+=1)}),["14cm連装砲","15.2cm連装砲"].forEach(function(e){s.name.ja_jp.includes(e)&&(h.CLMainGunTwin+=1)})),"rm"===e._navy&&s.name.ja_jp.includes("203mm/53")&&(h.ItalianCAMainGun+=1),n[a]&&!i.isNight&&(o+=Math.sqrt(n[a])*c.getStarMultiper(s.type,"shelling"))}});var d=0+2*Math.sqrt(h.CLMainGunTwin)+Math.sqrt(h.CLMainGunNaval)+Math.sqrt(h.ItalianCAMainGun);return o+d},c.calcByShip.torpedoPower=function(e,t,n,r,i){i=i||{};var o=0,a=u(e.slot);return c.shipType.Carriers.indexOf(e.type)>-1&&!i.isNight?i.returnZero?0:-1:(o=e.stat.torpedo_max||0,a.map(function(r,a){if(t[a]){var s=t[a];o+=l.TorpedoBombers.indexOf(s.type)>-1&&!i.isNight?0:s.getStat("torpedo",e)||0,n[a]&&!i.isNight&&(o+=Math.sqrt(n[a])*c.getStarMultiper(s.type,"torpedo"))}}),o)},c.calcByShip.nightPower=function(e,t,n,r,i,o){i=i||{};var a={damage:0},s=0,f=u(e.slot);if((o.aviationPersonnelNight||e.getCapability("count_as_night_operation_aviation_personnel"))&&(o.carrierFighterNight>=1||o.torpedoBomberNight>=1)){f.forEach(function(e,r){t[r]&&n[r]&&(s+=Math.sqrt(n[r])*c.getStarMultiper(t[r].type,"night"))});var p=0,h=0,d=0,y=0,v=0,g=[],m=0,b=0;f.forEach(function(r,i){if(t[i]){var o=t[i],a=!1,s=!1;o.type_ingame&&(45===o.type_ingame[3]?(s=!0,a=!0):46===o.type_ingame[3]&&(s=!0,a=!0)),l.TorpedoBombers.indexOf(o.type)>-1?o.hasName("Swordfish","ja_jp")&&(s=!0,m++):l.DiveBombers.indexOf(o.type)>-1&&o.hasName("岩井","ja_jp")&&(s=!0,b++),a&&(p+=r),s&&(h+=o.getStat("fire",e),d+=o.getStat("torpedo",e),y+=Math.sqrt(r)*((3+1.5*(a?1:0))*(o.getStat("fire",e)+o.getStat("torpedo",e)+o.getStat("bomb",e)+o.getStat("asw",e))/10),n[i]&&(v+=Math.sqrt(n[i])*c.getStarMultiper(t[i].type,"night")))}});var w=m+b;o.carrierFighterNight>=2&&o.torpedoBomberNight>=1&&g.push(1.25),o.carrierFighterNight>=1&&o.torpedoBomberNight>=1&&g.push(1.2),(o.carrierFighterNight>=3||o.carrierFighterNight>=2&&w>=1||o.carrierFighterNight>=1&&o.torpedoBomberNight>=1&&w>=1||o.carrierFighterNight>=1&&o.torpedoBomberNight>=2||o.carrierFighterNight>=1&&w>=2)&&g.push(1.18),a.type="航空",a.hit=1,a.damage=Math.floor(e.stat.fire_max+h+d+3*p+y+v),a.isMax=!0,g.length&&(a.cis=g.map(function(e){return[Math.floor(a.damage*e),1]}))}else if(e.getCapability("participate_night_battle_when_equip_swordfish"))a.damage+=e.stat.fire_max+e.stat.torpedo_max,f.forEach(function(n,r){var i=t[r];t[r]&&l.TorpedoBombers.indexOf(i.type)>-1&&i.name.ja_jp.indexOf("Swordfish")>-1&&(a.damage+=i.getStat("fire",e)+i.getStat("torpedo",e))}),a.type="通常",a.damage=Math.floor(a.damage),a.hit=1;else{if(e.stat.fire+e.stat.torpedo<=0)return{damage:0};var x={};f.forEach(function(e,r){if(t[r]&&(n[r]&&(s+=Math.sqrt(n[r])*c.getStarMultiper(t[r].type,"night")),t[r])){var i=t[r];x[i.id]?x[i.id]++:x[i.id]=1}}),a.damage=c.calcByShip.shellingPower(e,t,n,r,{isNight:!0})+c.calcByShip.torpedoPower(e,t,n,r,{isNight:!0,returnZero:!0})+s,c.shipType.Submarines.indexOf(e.type)>-1&&o.torpedoLateModel>=1&&o.submarineEquipment>=1?(a.type="雷击CI",a.damage=Math.floor(1.75*a.damage),a.hit=2):c.shipType.Submarines.indexOf(e.type)>-1&&o.torpedoLateModel>=2?(a.type="雷击CI",a.damage=Math.floor(1.6*a.damage),a.hit=2):o.torpedo>=2?(a.type="雷击CI",a.damage=Math.floor(1.5*a.damage),a.hit=2):o.main>=3?(a.type="炮击CI",a.damage=Math.floor(2*a.damage),a.hit=1):2==o.main&&o.secondary>=1?(a.type="炮击CI",a.damage=Math.floor(1.75*a.damage),a.hit=1):c.shipType.Destroyers.indexOf(e.type)>-1&&o.torpedo>=1&&o.radarSurface>=1&&o.surfaceShipPersonnel>=1?(a.type="电探CI",a.damage=Math.floor(1.25*a.damage),a.hit=1):c.shipType.Destroyers.indexOf(e.type)>-1&&o.torpedo>=1&&o.radarSurface>=1&&o.main>=1?(a.type="电雷CI",a.damage=x[267]?Math.floor(1.625*a.damage):Math.floor(1.3*a.damage),a.hit=1):o.main>=1&&1==o.torpedo?(a.type="炮雷CI",a.damage=Math.floor(1.3*a.damage),a.hit=2):2==o.main&&o.secondary<=0&&o.torpedo<=0||1==o.main&&o.secondary>=1&&o.torpedo<=0||0==o.main&&o.secondary>=2&&o.torpedo>=0?(a.type="连击",a.damage=Math.floor(1.2*a.damage),a.hit=2):(a.type="通常",a.damage=Math.floor(a.damage),a.hit=1)}var S=" ";if(a.isMax&&(S=" ≤ "),a.isMin&&(S=" ≥ "),a.value=""+a.type+S+a.damage,a.hit&&a.hit>1&&(a.value+=" x "+a.hit),Array.isArray(a.cis)&&a.cis.length)a.value+=" (CI"+S+a.cis.sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[0]+(e[1]&&e[1]>1?" x "+e[1]:"")}).join(" 或 ")+")";else if(a.damage_ci){var _=a.hit_ci||a.hit||1;a.value+=" (CI"+S+a.damage_ci+")",_&&_>1&&(a.value+=" x "+_)}return a},c.calcByShip.fighterPower_v2=function(e,t,n,r){var i=[0,0];return u(e.slot).map(function(e,o){var a=c.calc.fighterPower(t[o],e,r[o]||0,n[o]||0);i[0]+=a[0],i[1]+=a[1]}),i},c.calcByShip.losPower=function(e,t,n,r,i){(i=i||{}).shipLv=i.shipLv||1,i.hqLv=i.hqLv||1,i.shipLv<0&&(i.shipLv=1),i.hqLv<0&&(i.hqLv=1);var o={DiveBombers:0,TorpedoBombers:0,CarrierRecons:0,SeaplaneRecons:0,SeaplaneBombers:0,SmallRadars:0,LargeRadars:0,Searchlights:0,statLos:Math.sqrt(e.getAttribute("los",i.shipLv)),hqLv:i.hqLv};return t.forEach(function(e){if(e)for(var t in o)l[t]&&l[t].push&&l[t].indexOf(e.type)>-1&&(o[t]+=e.stat.los)}),c.calc.losPower(o)},c.calcByShip.TP=function(e,t){if(!e||!t||!t.push)return 0;e=a(e);var n={ship:{},equipment:{}};return n.ship[e.type]=1,t.forEach(function(e){if(e){var t="number"==typeof e?e:s(e).id;n.equipment[t]||(n.equipment[t]=0),n.equipment[t]++}}),e.getCapability("count_as_landing_craft")&&(n.equipment[68]||(n.equipment[68]=0),n.equipment[68]++),c.calc.TP(n)},c.calcByShip.speed=function(t,n,r,i,o){if(!t)return"";if("object"===(void 0===r?"undefined":_typeof(r))&&r.push)return c.calcByShip.speed(t,n,[],[],r);if("object"===(void 0===i?"undefined":_typeof(i))&&i.push)return c.calcByShip.speed(t,n,r,[],i);t=a(t),n=n||[],o=o||{};var u=parseInt(t.stat.speed),l=function(t){return t=Math.min(20,t||u),o.returnNumber?t:e.statSpeed[t]},f={33:0,34:0,87:0},p=t._speedRule||"low-2",h=0;if(n.forEach(function(e){if(e){var t="number"==typeof e?e:s(e).id;void 0!==f[""+t]&&f[""+t]++}}),!f[33])return l();switch(p){case"low-1":h=.3*Math.min(f[34],1)+.7*f[87];break;case"low-2":case"high-3":(f[34]||f[87])&&(h=Math.min(1,f[34]/3+.5*f[87]));break;case"low-3":case"high-4":(f[34]||f[87])&&(u+=5);break;case"high-1":h=.5*f[34]+1*f[87];break;case"high-2":h=.5*f[34]+.5*f[87]}return h>0&&h<1?u+=5:h>=1&&h<1.5?u+=10:h>=1.5&&(u+=15),l()},c.calcByShip.fireRange=function(t,n){if(!t)return"-";n=n||[];var r=parseInt(t.stat.range);return n.forEach(function(e){e&&(r=Math.max(r,s(e).stat.range||0))}),e.statRange[r]},c.calcByFleet.los33=function(e,t){var n=[],r=[];return e.forEach(function(e){if(Array.isArray(e)){var t=e[0];if(t){var i=e[2],o=e[3],a=e[4];r.push({id:t,lv:e[1][0]}),i.forEach(function(e,t){n.push({id:e,star:o[t],rank:a[t]})})}}}),c.calc.los33({hq:t,equipments:n,ships:r})},c.calcByField.fighterPowerAA=function(e){function t(e){return r=Math.max(e,r)}var n=[0,0],r=1;return e.forEach(function(e){var r=s(e[0]||e.equipment||e.equipmentId),i=e[1]||e.star||0,o=e[2]||e.rank||0,a=e[3]||e.carry||0,u=c.calc.fighterPowerAA(r,a,o,i);switch(a||(a=c.equipmentType.Recons.indexOf(r.type)>-1?4:18),n[0]+=u[0],n[1]+=u[1],r.type){case l.CarrierRecon:case l.CarrierRecon2:t(r.stat.los<=7?1.2:r.stat.los>=9?1.3:1.25);break;case l.ReconSeaplane:case l.ReconSeaplaneNight:case l.LargeFlyingBoat:t(r.stat.los<=7?1.1:r.stat.los>=9?1.16:1.13)}}),n[0]=n[0]*r,n[1]=n[1]*r,n},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=i)return-1;for(n=Math.max(o>=0?o:i-Math.abs(o),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1}),e.Entity=n,e.Equipment=r,e.Ship=i,e.Consumable=o,e.formula=c,e}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var r=e("./closest");t.exports=function(e,t,n,i,o){var a=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var r=e("./is"),i=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return a=t,s=n,(o=e).addEventListener(a,s),{destroy:function(){o.removeEventListener(a,s)}};var o,a,s,u,c,l,f,p,h;if(r.nodeList(e))return u=e,c=t,l=n,Array.prototype.forEach.call(u,function(e){e.addEventListener(c,l)}),{destroy:function(){Array.prototype.forEach.call(u,function(e){e.removeEventListener(c,l)})}};if(r.string(e))return f=e,p=t,h=n,i(document.body,f,p,h);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},{}],6:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],7:[function(e,t,n){!function(r,i){if(void 0!==n)i(t,e("select"));else{var o={exports:{}};i(o,r.select),r.clipboardAction=o.exports}}(this,function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:5}],8:[function(e,t,n){!function(r,i){if(void 0!==n)i(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var o={exports:{}};i(o,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=o.exports}}(this,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var a=i(t),s=i(n),u=i(r),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,u.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return o("action",e)}},{key:"defaultTarget",value:function(e){var t=o("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return o("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});